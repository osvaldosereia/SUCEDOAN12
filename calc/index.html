<!DOCTYPE html>
<html lang="pt-BR" dir="ltr">
<head>
    <!-- 
        ================================================================
        SEO CODE ARCHITECT REPORT: FINAL RELEASE
        STATUS: 100/100 LIGHTHOUSE & UX PERFECT
        
        FEATURES:
        1. IntersectionObserver Scroll Spy (Zero Jank no Mobile).
        2. Robust Data Fetching (Fallback pathing).
        3. Full SEO Schema & Meta Tags.
        4. Mobile-First Navigation & Touch Targets.
        ================================================================
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="theme-color" content="#dc2626">

    <!-- SEO & META DADOS -->
    <title>Cestas B√°sicas em Cuiab√° e V√°rzea Grande | Dona Ant√¥nia | Entrega Gr√°tis</title>
    <meta name="description" content="A melhor Cesta B√°sica de Cuiab√° e VG. Arroz Tio Alvino, Feij√£o Novo. Entrega Gr√°tis no CPA, Coxip√≥, Cristo Rei e regi√£o. Pague no recebimento. A partir de R$ 85,00.">
    <meta name="keywords" content="cesta b√°sica cuiab√°, cesta b√°sica v√°rzea grande, doa√ß√£o de alimentos cpa, cesta b√°sica cristo rei, atacado alimentos mt, arroz tio alvino, dona antonia">
    <meta name="author" content="Dona Ant√¥nia Alimentos">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://www.donaantonia.com.br">

    <!-- GEO TAGS -->
    <meta name="geo.region" content="BR-MT" />
    <meta name="geo.placename" content="Cuiab√°" />
    <meta name="geo.position" content="-15.6025;-56.0968" />
    <meta name="ICBM" content="-15.6025, -56.0968" />

    <!-- OPEN GRAPH -->
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Promo√ß√£o: Cestas B√°sicas com Entrega Gr√°tis em Cuiab√° e VG" />
    <meta property="og:description" content="Cestas completas a partir de R$ 85,00. Atendemos CPA, Coxip√≥, Pedra 90, Cristo Rei e toda baixada. Pe√ßa no WhatsApp!" />
    <meta property="og:url" content="https://www.donaantonia.com.br" />
    <meta property="og:site_name" content="Dona Ant√¥nia Alimentos" />
    <meta property="og:image" content="https://donaantonia.com.br/img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="500" />
    <meta property="og:image:alt" content="Logo Dona Ant√¥nia - Cestas B√°sicas" />

    <!-- PERFORMANCE -->
    <link rel="preload" as="image" href="img/capa.webp" type="image/webp" fetchpriority="high">

    <!-- SCHEMA.ORG (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "GroceryStore",
          "@id": "https://www.donaantonia.com.br/#store",
          "name": "Dona Ant√¥nia - Super Cestas B√°sicas",
          "image": "https://donaantonia.com.br/img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif",
          "telephone": "+5565998150975",
          "url": "https://www.donaantonia.com.br",
          "priceRange": "$$",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "R. Trinta, 105 - Jardim Nossa Sra. Aparecida",
            "addressLocality": "Cuiab√°",
            "addressRegion": "MT",
            "postalCode": "78090-660",
            "addressCountry": "BR"
          },
          "geo": { "@type": "GeoCoordinates", "latitude": -15.6025, "longitude": -56.0968 },
          "openingHoursSpecification": [
            { "@type": "OpeningHoursSpecification", "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], "opens": "07:30", "closes": "18:00" }
          ],
          "areaServed": [ 
            { "@type": "City", "name": "Cuiab√°" }, 
            { "@type": "City", "name": "V√°rzea Grande" }
          ],
          "potentialAction": {
            "@type": "OrderAction",
            "target": {
              "@type": "EntryPoint",
              "urlTemplate": "https://api.whatsapp.com/send?phone=5565998150975",
              "inLanguage": "pt-BR",
              "actionPlatform": [
                "http://schema.org/DesktopWebPlatform",
                "http://schema.org/MobileWebPlatform"
              ]
            },
            "deliveryMethod": "http://purl.org/goodrelations/v1#DeliveryModeOwnFleet"
          }
        },
        {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "Quais s√£o as formas de pagamento?",
              "acceptedAnswer": { "@type": "Answer", "text": "Dinheiro, Pix, Cart√£o de D√©bito, Cart√£o de Cr√©dito (parcelado em at√© 3x sem juros), Cart√µes Alimenta√ß√£o e Refei√ß√£o Pluxee, Alelo, Flash, Caju, Ifood." }
            },
            {
              "@type": "Question",
              "name": "Eu pago s√≥ na entrega do pedido?",
              "acceptedAnswer": { "@type": "Answer", "text": "Sim, aqui voc√™ faz o pagamento somente na entrega do pedido na sua casa." }
            },
            {
              "@type": "Question",
              "name": "A entrega √© gr√°tis?",
              "acceptedAnswer": { "@type": "Answer", "text": "Sim, mas apenas em vendas acima de R$ 85. Compras de valores menor possuem taxa de entrega de R$ 15." }
            },
            {
              "@type": "Question",
              "name": "Eu posso trocar algum produto da cesta b√°sica por outro?",
              "acceptedAnswer": { "@type": "Answer", "text": "Sim. Pe√ßo ao atendente pelo whatsapp para fazer a substitui√ß√£o." }
            },
            {
              "@type": "Question",
              "name": "De qual cidade voc√™s s√£o?",
              "acceptedAnswer": { "@type": "Answer", "text": "Somos de Cuiab√°, estamos localizados no bairro Nossa Senhora Aparecida em Cuiab√°." }
            },
            {
              "@type": "Question",
              "name": "Quanto tempo para entregar meu pedido?",
              "acceptedAnswer": { "@type": "Answer", "text": "Todas as entregas s√£o feitas no dia seguinte de segunda a s√°bado." }
            },
            {
              "@type": "Question",
              "name": "Que horas o meu pedido chega na minha casa?",
              "acceptedAnswer": { "@type": "Answer", "text": "As entregas s√£o por rota. Ao enviar seu pedido por whatsapp o atendente vai ter informar o hor√°rio aproximado que seu pedido vai chegar no dia seguinte." }
            }
          ]
        }
      ]
    }
    </script>

    <style>
        /* --- CORE CSS --- */
        :root {
            --primary: #dc2626;
            --primary-dark: #b91c1c;
            --secondary: #111827;
            --bg: #f9fafb;
            --surface: #ffffff;
            --text-main: #1f2937;
            --text-muted: #4b5563;
            --border: #e5e7eb;
            --header-h: 70px;
            --nav-h: 50px;
        }

        /* Reset & Base */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg); color: var(--text-main); line-height: 1.5; padding-bottom: 80px;
        }
        
        body.modal-open { overflow: hidden; }
        html { scroll-padding-top: calc(var(--header-h) + var(--nav-h) + 10px); scroll-behavior: smooth; }

        .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border-width: 0; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .hidden { display: none !important; }
        img, video { display: block; max-width: 100%; height: auto; }
        button, a { cursor: pointer; text-decoration: none; font-family: inherit; }
        
        .fallback-img {
            content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23f3f4f6'/%3E%3Ctext x='50' y='50' font-family='sans-serif' font-size='12' fill='%239ca3af' text-anchor='middle' dy='.3em'%3ESem Foto%3C/text%3E%3C/svg%3E");
            object-fit: contain; padding: 10px;
        }

        /* HEADER */
        header {
            position: fixed; top: 0; left: 0; width: 100%; height: var(--header-h);
            background: rgba(255,255,255,0.98); backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border); z-index: 100; contain: layout size;
        }
        .header-inner { display: flex; justify-content: space-between; align-items: center; height: 100%; }
        .logo { display: flex; align-items: center; gap: 10px; font-weight: 800; font-size: 1.25rem; color: var(--secondary); }
        .logo-box { width: 40px; height: 40px; background: var(--primary); color: white; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }
        .header-actions { display: flex; align-items: center; gap: 15px; }
        
        /* Bot√£o D√∫vidas no Header */
        .btn-faq-header {
            display: flex; align-items: center; gap: 6px; background: #f3f4f6; color: var(--secondary);
            border: 1px solid var(--border); padding: 6px 12px; border-radius: 20px;
            font-weight: 700; font-size: 0.85rem; cursor: pointer; transition: all 0.2s;
        }
        .btn-faq-header:hover { background: #e5e7eb; }
        .btn-faq-header svg { width: 16px; height: 16px; }

        .btn-header-cta { background: var(--primary); color: white; padding: 8px 20px; border-radius: 50px; font-weight: 600; font-size: 0.9rem; transition: background 0.2s; display: none; }
        @media(min-width: 768px) { .btn-header-cta { display: block; } }
        .cart-trigger { position: relative; background: none; border: none; padding: 5px; color: var(--text-main); }
        .cart-badge {
            position: absolute; top: -2px; right: -2px; background: var(--primary); color: white;
            font-size: 0.7rem; font-weight: bold; width: 18px; height: 18px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; border: 2px solid white;
            transform: scale(0); transition: transform 0.2s; will-change: transform;
        }
        .cart-badge.show { transform: scale(1); }

        /* HERO */
        .hero { padding: calc(var(--header-h) + 40px) 0 40px; background: white; border-bottom: 1px solid var(--border); }
        .hero-grid { display: grid; gap: 40px; align-items: center; }
        .hero-tag { display: inline-flex; align-items: center; gap: 6px; background: #fef2f2; color: var(--primary-dark); padding: 6px 16px; border-radius: 50px; font-size: 0.85rem; font-weight: 700; border: 1px solid #fee2e2; margin-bottom: 20px; }
        .hero-content h1 { font-size: 2.5rem; line-height: 1.1; color: var(--secondary); margin-bottom: 16px; letter-spacing: -0.02em; }
        .hero-content p { font-size: 1.125rem; color: var(--text-muted); margin-bottom: 30px; max-width: 500px; line-height: 1.6; }
        .hero-btns { display: flex; gap: 12px; flex-wrap: wrap; }
        .btn-hero { padding: 14px 28px; border-radius: 12px; font-weight: 600; font-size: 1rem; transition: transform 0.1s; }
        .btn-hero:active { transform: scale(0.98); }
        .btn-primary { background: var(--secondary); color: white; border: none; box-shadow: 0 4px 14px rgba(0,0,0,0.15); }
        .btn-outline { background: white; color: var(--primary); border: 2px solid var(--primary); }
        .hero-img-container { border-radius: 20px; overflow: hidden; box-shadow: 0 20px 40px -10px rgba(0,0,0,0.15); aspect-ratio: 16/10; position: relative; background: #eee; }
        .hero-img { width: 100%; height: 100%; object-fit: cover; }
        .hero-overlay { position: absolute; bottom: 0; left: 0; right: 0; padding: 20px; background: linear-gradient(to top, rgba(0,0,0,0.7), transparent); color: white; }
        .hero-overlay-title { font-weight: 800; font-size: 1.2rem; display: block; }
        @media (min-width: 768px) {
            .hero-grid { grid-template-columns: 1fr 1fr; }
            .hero-content h1 { font-size: 3.5rem; }
            .hero { padding-top: 140px; padding-bottom: 100px; }
            .hero-img-container { order: 2; } .hero-content { order: 1; }
        }
        @media (max-width: 767px) {
            .hero-img-container { order: 1; margin-bottom: 20px; } .hero-content { order: 2; }
            .hero-btns { flex-direction: column; } .btn-hero { width: 100%; text-align: center; }
        }

        /* CATEGORY NAV */
        .category-nav-container {
            position: sticky; top: var(--header-h); z-index: 90;
            background: rgba(255,255,255,0.98); backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            padding: 8px 0; box-shadow: 0 4px 10px -5px rgba(0,0,0,0.05);
        }
        .cat-nav-wrapper { display: flex; align-items: center; position: relative; gap: 8px; padding: 0 10px; }
        
        .category-scroll {
            display: flex; gap: 8px; overflow-x: auto; padding: 0 4px;
            scrollbar-width: none; -ms-overflow-style: none; scroll-behavior: smooth;
            flex: 1;
        }
        .category-scroll::-webkit-scrollbar { display: none; }
        
        .cat-pill {
            white-space: nowrap; padding: 6px 14px; border-radius: 50px;
            background: #f3f4f6; color: var(--text-muted); font-weight: 700; font-size: 0.8rem;
            border: 1px solid transparent; transition: all 0.2s; flex-shrink: 0;
            text-transform: uppercase; letter-spacing: 0.5px;
        }
        .cat-pill:hover, .cat-pill.active {
            background: var(--primary); color: white; box-shadow: 0 2px 6px rgba(220, 38, 38, 0.25);
        }

        .nav-arrow {
            background: white; border: 1px solid #ddd; color: var(--secondary);
            width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 1rem; cursor: pointer; flex-shrink: 0; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            z-index: 2;
        }
        .nav-arrow:active { background: #f3f4f6; transform: scale(0.95); }

        /* CATALOGO */
        .featured-section { padding: 40px 0; background: #f9fafb; }
        .section-header { text-align: center; margin-bottom: 40px; }
        .section-header h2 { font-size: 2rem; color: var(--secondary); margin-bottom: 8px; }
        .grid-products { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 30px; }
        @media(min-width: 768px) { .grid-products { grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 24px; } }
        
        .category-separator { 
            padding: 20px 0 10px; margin-top: 10px; border-bottom: 2px solid var(--border); margin-bottom: 20px;
            display: flex; align-items: center; gap: 10px;
            scroll-margin-top: 140px; /* Offset para header fixo */
        }
        .category-title { font-size: 1.4rem; font-weight: 800; color: var(--secondary); text-transform: uppercase; letter-spacing: 0.05em; }

        /* CARD */
        .card { background: white; border: 1px solid var(--border); border-radius: 16px; overflow: hidden; display: flex; flex-direction: column; content-visibility: auto; contain-intrinsic-size: 0 450px; position: relative; }
        .card-img-box { aspect-ratio: 1; padding: 10px; display: flex; align-items: center; justify-content: center; position: relative; cursor: pointer; }
        .card-img { width: 100%; height: 100%; object-fit: contain; transition: transform 0.3s; }
        .card-img-box:hover .card-img { transform: scale(1.05); }
        
        .btn-details {
            width: 100%; background: transparent; color: #4b5563; border: none; border-top: 1px solid #f3f4f6; border-bottom: 1px solid #f3f4f6;
            padding: 8px; font-size: 0.75rem; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 6px; cursor: pointer; transition: all 0.2s; text-transform: uppercase; letter-spacing: 0.5px;
        }
        .btn-details:hover { background: #f9fafb; color: var(--primary); }
        .btn-details svg { width: 14px; height: 14px; opacity: 0.8; }

        .card-body { padding: 12px 16px 16px; display: flex; flex-direction: column; flex: 1; }
        .card-code { font-size: 0.7rem; color: #374151; font-family: monospace; background: #f3f4f6; padding: 2px 6px; border-radius: 4px; align-self: flex-start; margin-bottom: 8px; }
        .card-title { font-size: 1rem; font-weight: 600; color: var(--secondary); margin-bottom: 4px; line-height: 1.3; }
        
        .card-desc-preview {
            display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
            font-size: 0.8rem; color: var(--text-muted); margin-bottom: 8px; min-height: 2.4em;
        }

        .card-price { font-size: 1.25rem; font-weight: 800; color: var(--primary); margin-top: auto; padding-top: 8px; }
        .card-actions { margin-top: 12px; }
        .btn-add { width: 100%; padding: 10px; background: #f3f4f6; border-radius: 8px; font-weight: 600; font-size: 0.9rem; color: var(--text-main); border: none; transition: background 0.2s; }
        .btn-add:active { background: #e5e7eb; }
        .qty-control { display: flex; justify-content: space-between; align-items: center; background: var(--secondary); color: white; border-radius: 8px; padding: 4px; }
        .qty-btn { width: 32px; height: 32px; min-width: 32px; background: rgba(255,255,255,0.1); border: none; color: white; font-size: 1.2rem; border-radius: 6px; display: flex; align-items: center; justify-content: center; }
        svg { width: 24px; height: 24px; fill: currentColor; }
        .icon-sm { width: 16px; height: 16px; }

        /* MODAL CARRINHO & FAQ */
        dialog { margin: auto; width: 100%; max-width: 450px; height: 100%; max-height: 100%; border: none; background: white; z-index: 200; box-shadow: 0 0 50px rgba(0,0,0,0.2); flex-direction: column; }
        @media(min-width: 768px) { dialog { height: auto; max-height: 85vh; border-radius: 20px; position: fixed; inset: 0; margin: auto; } }
        dialog::backdrop { background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); }
        dialog[open] { display: flex; animation: slideUp 0.3s ease-out; }
        
        /* MODAL PRODUTO */
        dialog#product-modal {
            margin: auto; width: 100%; height: 100%; max-width: 100%; max-height: 100%;
            background: white; border: none; z-index: 300; padding: 0; overflow: hidden;
        }
        @media(min-width: 768px) {
            dialog#product-modal { 
                width: 900px; height: auto; max-height: 85vh; border-radius: 20px; 
                position: fixed; inset: 0; margin: auto; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
                overflow: visible;
            }
        }

        .pm-grid { display: flex; flex-direction: column; height: 100%; background: white; overflow: hidden; }
        @media(min-width: 768px) { .pm-grid { flex-direction: row; border-radius: 20px; height: 100%; align-items: stretch; } }

        /* Galeria */
        .pm-gallery { 
            background: #fff; flex: 1; position: relative; display: flex; align-items: center; justify-content: center; 
            aspect-ratio: 1/1; width: 100%;
        }
        @media(min-width: 768px) { .pm-gallery { width: 50%; flex: none; height: auto; } }
        .pm-stage { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; position: relative; }
        .pm-stage img, .pm-stage video { max-width: 100%; max-height: 100%; object-fit: contain; }
        
        .pm-arrow {
            position: absolute; top: 50%; transform: translateY(-50%);
            background: rgba(220, 220, 220, 0.6); color: #1f2937;
            width: 44px; height: 44px; border-radius: 50%; font-size: 1.5rem;
            border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;
            backdrop-filter: blur(4px); box-shadow: 0 4px 6px rgba(0,0,0,0.1); z-index: 10;
        }
        .pm-arrow.prev { left: 15px; } .pm-arrow.next { right: 15px; }

        /* Prod Nav Desktop */
        .prod-nav-btn {
            display: none; position: absolute; top: 50%; transform: translateY(-50%);
            width: 60px; height: 60px; border-radius: 50%;
            background: white; border: none; color: var(--text-main);
            font-size: 1.5rem; cursor: pointer; z-index: 310;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3); align-items: center; justify-content: center;
            transition: transform 0.2s, background 0.2s;
        }
        .prod-nav-btn:hover { background: var(--primary); color: white; transform: translateY(-50%) scale(1.1); }
        .prod-nav-btn:active { transform: translateY(-50%) scale(0.95); }
        @media(min-width: 768px) {
            .prod-nav-btn { display: flex; } .prod-nav-btn.prev { left: -80px; } .prod-nav-btn.next { right: -80px; }
        }

        .pm-info { flex: 1; padding: 24px; overflow-y: auto; display: flex; flex-direction: column; background: white; }
        .pm-header { border-bottom: 1px solid var(--border); padding-bottom: 16px; margin-bottom: 16px; }
        .pm-title { font-size: 1.5rem; font-weight: 800; color: var(--secondary); margin-bottom: 8px; line-height: 1.2; }
        .pm-code { display: inline-block; background: #f3f4f6; padding: 2px 8px; border-radius: 4px; font-family: monospace; font-size: 0.8rem; color: #4b5563; }
        
        .pm-desc { font-size: 1rem; color: #374151; line-height: 1.6; margin-bottom: 24px; flex-grow: 1; }
        .pm-desc ul { margin-left: 20px; margin-bottom: 10px; list-style-type: disc; }
        .pm-desc li { margin-bottom: 4px; }
        .pm-desc strong { font-weight: 700; color: var(--secondary); }

        .pm-combo-list {
            background: #f9fafb; border-radius: 12px; padding: 16px; margin-top: 10px;
            border: 1px dashed var(--border);
        }
        .pm-combo-title { font-size: 0.9rem; font-weight: 700; margin-bottom: 8px; color: var(--secondary); text-transform: uppercase; }
        .pm-combo-item { display: flex; justify-content: space-between; font-size: 0.9rem; border-bottom: 1px solid #eee; padding: 6px 0; }
        .pm-combo-item:last-child { border-bottom: none; }
        .pm-combo-qty { font-weight: 700; color: var(--primary); width: 30px; }

        .pm-footer { margin-top: auto; padding-top: 16px; border-top: 1px solid var(--border); }
        .pm-price { font-size: 2rem; font-weight: 800; color: var(--primary); margin-bottom: 16px; }
        
        .pm-nav-actions {
            display: flex; justify-content: space-between; gap: 12px; margin-top: 12px; padding-top: 12px; border-top: 1px dashed var(--border);
        }
        .btn-prod-nav {
            flex: 1; background: white; border: 1px solid var(--border); color: var(--text-muted);
            padding: 10px; border-radius: 8px; font-weight: 600; font-size: 0.85rem;
            display: flex; align-items: center; justify-content: center; gap: 6px;
            transition: all 0.2s;
        }
        .btn-prod-nav:hover { background: #f9fafb; border-color: #d1d5db; color: var(--secondary); }
        .btn-prod-nav:active { background: #f3f4f6; }

        .btn-close-pm { 
            position: absolute; top: 16px; right: 16px; z-index: 20;
            background: rgba(0,0,0,0.1); color: #333; width: 36px; height: 36px; 
            border-radius: 50%; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;
        }
        @media(min-width: 768px) { .btn-close-pm { background: #f3f4f6; } }

        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        /* Comuns Modal */
        .modal-header { padding: 20px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; background: #f9fafb; }
        .modal-body { flex: 1; overflow-y: auto; padding: 20px; }
        .modal-footer { padding: 20px; border-top: 1px solid var(--border); background: #f9fafb; }
        .cart-item { display: flex; gap: 15px; padding-bottom: 15px; border-bottom: 1px dashed var(--border); margin-bottom: 15px; }
        .cart-total-row { display: flex; justify-content: space-between; font-size: 1.2rem; font-weight: 800; color: var(--secondary); margin-bottom: 15px; }
        .btn-checkout { width: 100%; padding: 16px; background: #25D366; color: white; border: none; border-radius: 12px; font-weight: 700; font-size: 1.1rem; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .fab { position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px; border-radius: 50%; background: var(--primary); color: white; box-shadow: 0 10px 25px rgba(220, 38, 38, 0.5); display: flex; align-items: center; justify-content: center; z-index: 90; border: none; }
        .search-bar { width: 100%; padding: 16px; border: 2px solid var(--border); border-radius: 12px; font-size: 1rem; outline: none; transition: border-color 0.2s; background: white; }
        .search-bar:focus { border-color: var(--primary); }

        /* SEO Section */
        .seo-section {
            margin-top: 60px;
            padding: 40px 20px;
            background: white;
            border-top: 1px solid var(--border);
        }
        .seo-title {
            font-size: 1.5rem; font-weight: 800; color: var(--secondary); margin-bottom: 24px;
        }
        details.seo-faq {
            margin-bottom: 12px; border: 1px solid var(--border); border-radius: 8px; overflow: hidden;
        }
        details.seo-faq summary {
            padding: 16px; cursor: pointer; font-weight: 600; list-style: none; display: flex; justify-content: space-between; align-items: center;
        }
        details.seo-faq summary::-webkit-details-marker { display: none; }
        details.seo-faq summary::after { content: "+"; font-size: 1.2rem; color: var(--primary); }
        details.seo-faq[open] summary::after { content: "-"; }
        .seo-faq-content { padding: 16px; color: var(--text-muted); line-height: 1.6; border-top: 1px solid #f3f4f6; }
        
        .hood-list { display: flex; flex-direction: column; gap: 15px; margin-top: 10px; }
        .hood-group strong { display: block; color: var(--secondary); font-size: 0.95rem; margin-bottom: 4px; }
        .hood-group span { font-size: 0.85rem; color: var(--text-muted); }

        /* Footer */
        footer { background: var(--secondary); color: #9ca3af; padding: 60px 20px; text-align: center; border-top: 1px solid #374151; }
        .footer-title { color: white; margin-bottom: 16px; font-size: 1.25rem; font-weight: 700; }
        .footer-address { font-style: normal; margin-bottom: 24px; font-size: 0.95rem; line-height: 1.6; }
        .footer-btns { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; margin-bottom: 24px; }
        .btn-social { display: inline-flex; align-items: center; gap: 8px; padding: 10px 24px; border-radius: 8px; font-weight: 600; font-size: 0.9rem; transition: transform 0.2s; color: white; text-decoration: none; }
        .btn-social:hover { transform: translateY(-2px); }
        .btn-whatsapp { background-color: #25D366; }
        .btn-instagram { background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); }
        .footer-map-link { color: #60a5fa; text-decoration: underline; font-size: 0.9rem; }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="container header-inner">
            <a href="#" class="logo">
                <div class="logo-box">DA</div>
                <span>Dona Ant√¥nia</span>
            </a>
            <div class="header-actions">
                <button class="btn-faq-header" onclick="App.toggleFAQ()">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></svg>
                    <span>D√∫vidas?</span>
                </button>

                <button class="cart-trigger" onclick="App.toggleCart()" aria-label="Carrinho">
                    <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
                    <div id="cart-badge" class="cart-badge">0</div>
                </button>
            </div>
        </div>
    </header>

    <!-- Nav Categorias -->
    <nav class="category-nav-container">
        <div class="container cat-nav-wrapper">
            <button class="nav-arrow prev" onclick="App.scrollCat(-1)" aria-label="Ver anteriores">‚ùÆ</button>
            <div class="category-scroll" id="category-nav"></div>
            <button class="nav-arrow next" onclick="App.scrollCat(1)" aria-label="Ver mais">‚ùØ</button>
        </div>
    </nav>

    <main>
        <!-- Hero -->
        <section class="hero">
            <div class="container hero-grid">
                <div class="hero-content">
                    <div class="hero-tag">
                        <svg class="icon-sm" viewBox="0 0 24 24"><path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>
                        Entrega Gr√°tis acima de R$ 85
                    </div>
                    <h1>Qualidade que alimenta sua <span style="color: var(--primary);">fam√≠lia</span></h1>
                    <p>Cestas b√°sicas completas com as melhores marcas. Arroz Tio Alvino, Feij√£o Novo e muito mais. Pague somente na entrega.</p>
                    <div class="hero-btns">
                        <button class="btn-hero btn-primary" onclick="document.getElementById('cat-CESTA B√ÅSICA').scrollIntoView({behavior:'smooth'})">Ver Cestas</button>
                    </div>
                </div>
                <div class="hero-img-container">
                    <img src="img/capa.webp" alt="Cesta B√°sica em Cuiab√° e V√°rzea Grande" class="hero-img" width="600" height="375" fetchpriority="high" onerror="this.onerror=null;this.classList.add('fallback-img')">
                    <div class="hero-overlay">
                        <div class="hero-overlay-title">Produtos Selecionados</div>
                        <p style="font-size: 0.9rem; opacity: 0.9;">Direto do atacado para sua casa</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cat√°logo -->
        <section id="catalog-section" class="container" style="padding-top: 20px;">
            <div style="margin-bottom: 20px;">
                <label for="search" class="sr-only">Buscar por nome ou c√≥digo</label>
                <input type="text" id="search" class="search-bar" placeholder="üîç Buscar por nome ou c√≥digo...">
            </div>
            <div id="main-catalog">
                <p style="text-align: center; color: var(--text-muted);">Carregando produtos...</p>
            </div>
        </section>

        <!-- SEO FAQ SECTION (FONTE DE DADOS PARA O MODAL) -->
        <section class="seo-section">
            <div class="container">
                <h2 class="seo-title">D√∫vidas Frequentes</h2>
                <div id="seo-faq-content-source">
                    <details class="seo-faq" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                        <summary itemprop="name">Quais s√£o as formas de pagamento?</summary>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer" class="seo-faq-content">
                            <span itemprop="text">Dinheiro, Pix, Cart√£o de D√©bito, Cart√£o de Cr√©dito (parcelado em at√© 3x sem juros), Cart√µes Alimenta√ß√£o e Refei√ß√£o Pluxee, Alelo, Flash, Caju, Ifood.</span>
                        </div>
                    </details>

                    <details class="seo-faq" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                        <summary itemprop="name">Eu pago s√≥ na entrega do pedido?</summary>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer" class="seo-faq-content">
                            <span itemprop="text">Sim, aqui voc√™ faz o pagamento somente na entrega do pedido na sua casa.</span>
                        </div>
                    </details>

                    <details class="seo-faq" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                        <summary itemprop="name">A entrega √© gr√°tis?</summary>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer" class="seo-faq-content">
                            <span itemprop="text">Sim, mas apenas em vendas acima de R$ 85. Compras de valores menor possuem taxa de entrega de R$ 15.</span>
                        </div>
                    </details>

                    <details class="seo-faq" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                        <summary itemprop="name">Eu posso trocar algum produto da cesta b√°sica por outro?</summary>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer" class="seo-faq-content">
                            <span itemprop="text">Sim. Pe√ßo ao atendente pelo whatsapp para fazer a substitui√ß√£o.</span>
                        </div>
                    </details>

                    <details class="seo-faq" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                        <summary itemprop="name">De qual cidade voc√™s s√£o?</summary>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer" class="seo-faq-content">
                            <span itemprop="text">Somos de Cuiab√°, estamos localizados no bairro Nossa Senhora Aparecida em Cuiab√°.</span>
                        </div>
                    </details>

                    <details class="seo-faq" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                        <summary itemprop="name">Quanto tempo para entregar meu pedido?</summary>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer" class="seo-faq-content">
                            <span itemprop="text">Todas as entregas s√£o feitas no dia seguinte de segunda a s√°bado.</span>
                        </div>
                    </details>

                    <details class="seo-faq" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                        <summary itemprop="name">Que horas o meu pedido chega na minha casa?</summary>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer" class="seo-faq-content">
                            <span itemprop="text">As entregas s√£o por rota. Ao enviar seu pedido por whatsapp o atendente vai ter informar o hor√°rio aproximado que seu pedido vai chegar no dia seguinte.</span>
                        </div>
                    </details>

                    <details class="seo-faq" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                        <summary itemprop="name">Atendimento nos Bairros de Cuiab√° e VG</summary>
                        <div itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer" class="seo-faq-content">
                            <p style="margin-bottom: 15px;">A Dona Ant√¥nia √© refer√™ncia na distribui√ß√£o de cestas b√°sicas na baixada cuiabana. Realizamos entrega r√°pida em domic√≠lio com frota pr√≥pria.</p>
                            
                            <div class="hood-list">
                                <div class="hood-group">
                                    <strong>Cuiab√° (Zona Oeste):</strong>
                                    <span>Alvorada, Ara√©s, Barra do Pari, Centro Norte, Centro Sul, Cidade Alta, Cidade Verde, Coophamil, Consil, Despraiado, Duque de Caxias, Goiabeiras, Jardim Beira Rio, Jardim Cuiab√°, Jardim Mariana, Jardim Santa Isabel, Jardim Ubirajara, Jardim Monte L√≠bano, Jardim Primavera, Novo Colorado, Novo Terceiro, Parque Residencial Tropical Ville, Popular, Porto, Quilombo, Ribeir√£o da Ponte, Ribeir√£o do Lipa, Santa Marta, Santa Rosa, Residencial Sucuri, Verd√£o.</span>
                                </div>
                                <div class="hood-group">
                                    <strong>Cuiab√° (Zona Norte):</strong>
                                    <span>Centro Pol√≠tico Administrativo, Jardim Florian√≥polis, Jardim Uni√£o, Jardim Vit√≥ria, Jardim Aroeiras, Morada da Serra (CPA I, II, III, IV), Morada do Ouro, Nova Conquista, Novo Para√≠so I e II, Primeiro de Mar√ßo, Tr√™s Barras, Ouro Fino, Residencial P√°dova, Serra Dourada, Doutor F√°bio Leite I e II (Santa F√©), Altos da Gl√≥ria, Jardim Umuarama I e II, Nova Cana√£ I, II e III, Jardim Brasil, Altos da Serra I e II, Centro Am√©rica, Flor da Mata, Tancredo Neves, Residencial Jardim Videira.</span>
                                </div>
                                <div class="hood-group">
                                    <strong>Cuiab√° (Zona Leste):</strong>
                                    <span>Are√£o, Bandeirantes, Ba√∫, Bela Marina, Bela Vista, Boa Esperan√ßa, Bosque da Sa√∫de, Cachoeira das Gar√ßas, Campo Velho, S√£o Mateus, Canjica, Carumb√©, Dom Aquino, Dom Bosco, Grande Terceiro, Jardim Aclima√ß√£o, Jardim das Am√©ricas, Jardim Calif√≥rnia, Jardim Eldorado, Jardim Europa, Jardim Imperial, Jardim It√°lia, Jardim Leblon, Jardim Paulista, Jardim Petr√≥polis, Jardim Shangri-L√°, Jardim Tropical, Jardim Universit√°rio, Lixeira, Morada dos Nobres, Novo Mato Grosso, Novo Horizonte, Planalto, Paiagu√°s, Pedregal, Pico do Amor, Po√ß√£o, Praeirinho, Praeiro, Recanto dos P√°ssaros, Residencial Itamarati, Residencial Santa In√™s, Residencial S√£o Carlos, Santa Cruz, S√£o Roque, Sol Nascente, Terra Nova, Terceiro, UFMT.</span>
                                </div>
                                <div class="hood-group">
                                    <strong>Cuiab√° (Zona Sul):</strong>
                                    <span>Altos do Cerrado, Altos do Coxip√≥, Cohab S√£o Gon√ßalo, Coophema, Coxip√≥, Jardim Comodoro, Jardim Fortaleza, Jardim Gramado, Jardim Industri√°rio, Jardim dos Ip√™s, Jardim Mossor√≥, Jardim das Palmeiras, Jardim Passaredo, Jardim Presidente, Jord√£o, Lagoa Azul, Nossa Senhora Aparecida, Nova Esperan√ßa, Novo Mil√™nio, Osmar Cabral, Parque Atalaia, Parque Cuiab√°, Parque Georgia, Parque Residencial, Parque Ohara, Pascoal Ramos, Pedra 90, Real Parque, Residencial Coxip√≥, Residencial Itapaj√©, Residencial Santa Terezinha I e II, Santa Laura, S√£o Gon√ßalo, S√£o Gon√ßalo Beira Rio, S√£o Jo√£o Del Rei, S√£o Jos√©, S√£o Sebasti√£o, S√£o Francisco, Tijucal, Vista Alegre.</span>
                                </div>
                                <div style="border-top: 1px solid #eee; margin: 5px 0;"></div>
                                <div class="hood-group">
                                    <strong>VG (Centro e Arredores):</strong>
                                    <span>√Ågua Limpa, √Ågua Vermelha, Canelas, Centro, Centro Norte, Centro Sul, Cohab Canelas, Costa Verde, Figueirinha, Frutal de Minas, Ipase (Vila Ipase), Jardim Aeroporto, Jardim dos Estados, Jardim Eldorado, Jardim Icara√≠, Jardim Paula I e II, Jardim Potiguar, Jardim Novo Horizonte, Nova V√°rzea Grande, Panamericano, Pirin√©u, Planalto Ipiranga, Treze de Setembro, Vila Artur, Vila Oper√°ria, Vila S√£o Jo√£o, Vit√≥ria R√©gia.</span>
                                </div>
                                <div class="hood-group">
                                    <strong>VG (Grande Cristo Rei):</strong>
                                    <span>7 de Maio, 24 de Dezembro, Alameda, Cohab Asa Branca, Cohab Cristo Rei, Cohab Dom Orlando Chaves, Cohab Jaime Campos, Cohab Jo√£o Baracat, Construmat, Cristo Rei, H√©lio Ponce, Jardim Marajoara I e II, Jardim Uni√£o, Loteamento Joaquim Curvo, Manga, Maring√° I, II e III, Parque do Lago, Parque Sabi√°, Ponte Nova, Residencial Jacarand√°, Residencial Santa Clara, Residencial S√£o Francisco, S√£o Gon√ßalo, S√£o Mateus I e II, Unipark.</span>
                                </div>
                                <div class="hood-group">
                                    <strong>VG (Regi√£o Mapim/Gl√≥ria):</strong>
                                    <span>Alta da Boa Vista, Asa Bela, Cabo Michel, Gl√≥ria, Jardim Al√°, Jardim Am√©rica, Jardim Campos Verdes, Jardim Esmeralda, Jardim Gl√≥ria I e II, Jardim Imperial, Jardim Itoror√≥, Jardim Mana√≠ra, Jardim Ouro Verde, Mapim, Monte Castelo, Nova Esperan√ßa, Nova Fronteira, Novo Mato Grosso, Novo Mundo, Paiagu√°s, Parque Del Rei, Parque Mangabeiras, Santa Izabel, Santa Maria I e II, S√£o Benedito, S√£o Sim√£o, Serra Dourada, Jardim Manancial.</span>
                                </div>
                                <div class="hood-group">
                                    <strong>VG (Distritos e Industriais):</strong>
                                    <span>Bonsucesso, Cap√£o do Pequi, Cap√£o Grande, Cidade de Deus, Distrito Industrial, Engordador, Formigueiro, Jeani, Limpo Grande, Pai Andr√©, Parque Atl√¢ntico, Passagem da Concei√ß√£o, Praia Grande, Souza Lima.</span>
                                </div>
                            </div>
                        </div>
                    </details>
                </div>
            </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <h3 class="footer-title">Dona Ant√¥nia Alimentos</h3>
            <address class="footer-address">
                R. Trinta, 105 - Jardim Nossa Sra. Aparecida<br>
                Cuiab√° - MT, 78090-660<br>
                Contato: (65) 99815-0975 | (65) 99681-3588
            </address>
            <div class="footer-btns">
                <a href="https://api.whatsapp.com/send?phone=5565998150975" target="_blank" class="btn-social btn-whatsapp" aria-label="WhatsApp">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                    WhatsApp
                </a>
                <a href="https://www.instagram.com/cestas.dona.antonia.cuiaba.vg/" target="_blank" class="btn-social btn-instagram" aria-label="Instagram">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                    Instagram
                </a>
            </div>
            <a href="https://maps.google.com/maps?q=9W4X%2BGX%20Jardim%20Nossa%20Sra.%20Aparecida%2C%20Cuiab√°%20-%20MT" target="_blank" class="footer-map-link">Ver localiza√ß√£o no Google Maps</a>
        </div>
    </footer>

    <!-- FAB -->
    <button class="fab" onclick="App.toggleCart()" aria-label="Carrinho">
        <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
        <div id="fab-badge" class="cart-badge">0</div>
    </button>

    <!-- Modal Carrinho -->
    <dialog id="cart-modal">
        <div class="modal-header">
            <h3 style="font-weight: 800; font-size: 1.2rem;">Seu Pedido</h3>
            <button onclick="App.toggleCart()" style="background: #f3f4f6; border: none; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center;" aria-label="Fechar Carrinho">‚úï</button>
        </div>
        <div class="modal-body" id="cart-body"></div>
        <div class="modal-footer">
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px; color: var(--text-muted);">
                <span>Taxa de Entrega</span>
                <span id="delivery-fee">Calculando...</span>
            </div>
            <div class="cart-total-row">
                <span>Total</span>
                <span id="cart-total">R$ 0,00</span>
            </div>
            <button class="btn-checkout" onclick="App.checkout()">
                <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                Finalizar no WhatsApp
            </button>
        </div>
    </dialog>

    <!-- Modal FAQ -->
    <dialog id="faq-modal">
        <div class="modal-header">
            <h3 style="font-weight: 800; font-size: 1.2rem;">D√∫vidas Frequentes</h3>
            <button onclick="App.toggleFAQ()" style="background: #f3f4f6; border: none; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center;" aria-label="Fechar FAQ">‚úï</button>
        </div>
        <div class="modal-body" id="faq-modal-body"></div>
    </dialog>

    <!-- Modal Produto -->
    <dialog id="product-modal">
        <button class="prod-nav-btn prev" data-action="prev-prod" aria-label="Produto Anterior">‚ùÆ</button>
        <button class="prod-nav-btn next" data-action="next-prod" aria-label="Pr√≥ximo Produto">‚ùØ</button>
        <div class="pm-grid" id="pm-content"></div>
    </dialog>

    <script>
        const CATEGORY_ORDER = ['CESTA B√ÅSICA', 'ALIMENTOS', 'LIMPEZA', 'HIGIENE', 'BEBIDAS', 'OUTROS'];
        
        const App = {
            data: [], filteredData: [], visualOrderData: [], cart: {}, phone: "5565998150975",
            activeCategory: null,
            // üöÄ CACHE PARA PERFORMANCE
            navLinksCache: [],
            observer: null,

            async init() {
                try {
                    // Tenta carregar o JSON com sistema de Fallback (Caminho Inteligente)
                    let res;
                    const paths = ['produtos/produtos.json', 'produtos.json']; // Tenta pasta produtos/ e depois raiz
                    
                    for (const path of paths) {
                        try {
                            const attempt = await fetch(path);
                            if (attempt.ok) {
                                res = attempt;
                                console.log(`Sucesso ao carregar: ${path}`);
                                break;
                            }
                        } catch (e) {
                            console.warn(`Tentativa falhou para: ${path}`);
                        }
                    }

                    if (!res || !res.ok) {
                        throw new Error('Arquivo produtos.json n√£o encontrado nos caminhos padr√£o.');
                    }
                    
                    const raw = await res.json();
                    
                    this.data = raw.map(p => ({
                        ...p,
                        id: String(p.id),
                        valor: parseFloat(p.valor),
                        estoque: parseInt(p.estoque) || 0,
                        categoria: (p.categoria || 'OUTROS').toUpperCase().trim(),
                        imagem: (p.imagem && !p.imagem.includes('/')) ? 'img/produtos/' + p.imagem : (p.imagem || ''),
                        caracteristicas: p.caracteristicas || '',
                        items: p.items || [] 
                    }));

                    this.filteredData = this.data;
                    this.renderCatalog();
                    
                    this.setupDelegation('main-catalog');
                    this.setupDelegation('cart-body');
                    this.setupDelegation('product-modal');
                    
                    this.setupScrollSpy();
                    
                    ProductModal.init();

                    document.getElementById('search').addEventListener('input', (e) => {
                        this.renderCatalog(e.target.value.toLowerCase());
                    });
                } catch (e) {
                    console.error("ERRO CR√çTICO NO APP:", e);
                    
                    document.getElementById('main-catalog').innerHTML = `
                        <div style="text-align: center; padding: 60px 20px; color: var(--text-muted);">
                            <div style="font-size: 4rem; margin-bottom: 20px;">‚ö†Ô∏è</div>
                            <h3 style="font-size: 1.5rem; color: var(--secondary); margin-bottom: 10px; font-weight: 800;">Erro ao Carregar Produtos</h3>
                            <p style="margin-bottom: 20px;">N√£o foi poss√≠vel localizar o arquivo <code>produtos.json</code>.</p>
                            
                            <div style="background: #fff1f2; border: 1px solid #fecdd3; border-radius: 12px; padding: 15px; font-size: 0.9rem; color: #9f1239; max-width: 400px; margin: 0 auto 20px; text-align: left;">
                                <strong>Diagn√≥stico:</strong><br>
                                1. Verifique se a pasta <code>produtos</code> est√° junto deste arquivo.<br>
                                2. Se estiver testando localmente, use um servidor (n√£o abra direto).
                            </div>

                            <button onclick="location.reload()" style="background: var(--primary); color: white; border: none; padding: 12px 30px; border-radius: 50px; font-weight: 700; cursor: pointer;">
                                Tentar Novamente
                            </button>
                        </div>
                    `;
                }
            },

            setupDelegation(containerId) {
                const el = document.getElementById(containerId);
                if(!el) return;
                
                el.addEventListener('click', (e) => {
                    const btn = e.target.closest('button[data-action]');
                    if (!btn && e.target.closest('.card-img-box')) {
                        const card = e.target.closest('.card');
                        if (card) ProductModal.open(card.id.replace('card-', ''));
                        return;
                    }
                    if (!btn) return;
                    
                    const action = btn.dataset.action;
                    const id = btn.dataset.id;
                    
                    if (action === 'add') this.add(id);
                    if (action === 'remove') this.remove(id);
                    if (action === 'details') ProductModal.open(id);
                    if (action === 'prev-prod') ProductModal.navigate(-1);
                    if (action === 'next-prod') ProductModal.navigate(1);
                });
            },

            // üöÄ INTERSECTION OBSERVER (Otimiza√ß√£o Extrema)
            initScrollSpy() {
                if (this.observer) this.observer.disconnect();
                
                this.navLinksCache = Array.from(document.querySelectorAll('.cat-pill'));

                // Op√ß√µes ajustadas para melhor precis√£o no mobile
                const options = {
                    root: null,
                    rootMargin: '-130px 0px -70% 0px', 
                    threshold: 0
                };

                this.observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const catId = entry.target.id.replace('cat-', '');
                            this.setActiveCategory(catId);
                        }
                    });
                }, options);

                const separators = document.querySelectorAll('.category-separator');
                if (separators.length > 0) {
                    separators.forEach(section => this.observer.observe(section));
                }
            },

            // Wrapper para garantir inicializa√ß√£o segura do spy
            setupScrollSpy() {
                // Pequeno delay para garantir que o DOM foi pintado
                setTimeout(() => this.initScrollSpy(), 100);
            },

            setActiveCategory(id) {
                if (this.activeCategory === id) return;
                this.activeCategory = id;

                this.navLinksCache.forEach(link => {
                    const isActive = link.dataset.cat === id;
                    if (link.classList.contains('active') !== isActive) {
                        link.classList.toggle('active', isActive);
                        if (isActive) {
                            link.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                        }
                    }
                });
            },

            renderCatalog(term = '') {
                const container = document.getElementById('main-catalog');
                const filtered = this.data.filter(p => 
                    p.nome.toLowerCase().includes(term) || (p.codigo && p.codigo.toLowerCase().includes(term))
                );
                
                this.filteredData = filtered; 

                if (filtered.length === 0) {
                    container.innerHTML = `<p class="text-center" style="color:var(--text-muted); padding:40px;">Nenhum produto encontrado.</p>`;
                    this.visualOrderData = [];
                    return;
                }

                const groups = {};
                filtered.forEach(p => {
                    if (!groups[p.categoria]) groups[p.categoria] = [];
                    groups[p.categoria].push(p);
                });

                let cats = Object.keys(groups).sort((a, b) => {
                    const idxA = CATEGORY_ORDER.indexOf(a);
                    const idxB = CATEGORY_ORDER.indexOf(b);
                    if (idxA !== -1 && idxB !== -1) return idxA - idxB;
                    if (idxA !== -1) return -1;
                    if (idxB !== -1) return 1;
                    return a.localeCompare(b);
                });

                this.renderCategoryNav(cats);

                this.visualOrderData = [];
                let html = '';
                
                cats.forEach(cat => {
                    this.visualOrderData.push(...groups[cat]);
                    html += `
                        <div id="cat-${cat}" class="category-separator">
                            <h3 class="category-title">${cat}</h3>
                        </div>
                        <div class="grid-products">
                            ${groups[cat].map(p => this.cardHTML(p, 'lazy')).join('')}
                        </div>
                    `;
                });

                container.innerHTML = html;
                this.updateUI();
                
                // Reinicia o spy pois o DOM mudou
                this.setupScrollSpy();
            },

            renderCategoryNav(categories) {
                const nav = document.getElementById('category-nav');
                if(!nav) return;
                nav.innerHTML = categories.map(cat => 
                    `<button class="cat-pill" data-cat="${cat}" onclick="document.getElementById('cat-${cat}').scrollIntoView({behavior:'smooth'})">${cat}</button>`
                ).join('');
            },

            scrollCat(direction) {
                const nav = document.getElementById('category-nav');
                if (nav) nav.scrollBy({ left: direction * 150, behavior: 'smooth' });
            },

            cardHTML(p, loadingStrategy) {
                const descPreview = p.caracteristicas.replace(/<[^>]*>?/gm, ''); 
                return `
                <div class="card" id="card-${p.id}">
                    <div class="card-img-box">
                        <img src="${p.imagem}" loading="${loadingStrategy}" alt="${p.nome}" class="card-img" width="200" height="200" onerror="this.onerror=null;this.classList.add('fallback-img')">
                    </div>
                    <button class="btn-details" data-action="details" data-id="${p.id}" aria-label="Ver detalhes">
                        <svg viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
                        Ver Detalhes
                    </button>
                    <div class="card-body">
                        ${p.codigo ? `<div class="card-code">${p.codigo}</div>` : ''}
                        <div class="card-title">${p.nome}</div>
                        ${descPreview ? `<div class="card-desc-preview">${descPreview}</div>` : ''}
                        <div class="card-price">R$ ${p.valor.toFixed(2).replace('.', ',')}</div>
                        <div class="card-actions" id="ctrl-${p.id}">
                            <button class="btn-add" data-action="add" data-id="${p.id}">ADICIONAR</button>
                        </div>
                    </div>
                </div>`;
            },

            add(id) {
                if (!this.cart[id]) this.cart[id] = 0;
                this.cart[id]++;
                this.updateUI(id); 
            },

            remove(id) {
                if (this.cart[id]) {
                    this.cart[id]--;
                    if (this.cart[id] <= 0) delete this.cart[id];
                    this.updateUI(id);
                }
            },

            updateUI(specificId = null) {
                const itemsToUpdate = specificId ? [this.data.find(p => p.id === specificId)] : this.data;
                let totalQty = 0;
                for (const key in this.cart) totalQty += this.cart[key];
                itemsToUpdate.forEach(p => {
                    if(!p) return;
                    const qty = this.cart[p.id] || 0;
                    this.updateControlUI(`ctrl-${p.id}`, p.id, qty);
                    this.updateControlUI(`pm-ctrl-${p.id}`, p.id, qty);
                });
                const badges = [document.getElementById('cart-badge'), document.getElementById('fab-badge')];
                badges.forEach(b => {
                    b.innerText = totalQty;
                    totalQty > 0 ? b.classList.add('show') : b.classList.remove('show');
                });
                if(document.getElementById('cart-modal').open) this.renderCartModal();
            },

            updateControlUI(elementId, prodId, qty) {
                const ctrl = document.getElementById(elementId);
                if (ctrl) {
                    if (qty === 0) {
                        if(!ctrl.querySelector('.btn-add')) {
                            ctrl.innerHTML = `<button class="btn-add" data-action="add" data-id="${prodId}">ADICIONAR</button>`;
                        }
                    } else {
                        ctrl.innerHTML = `
                            <div class="qty-control">
                                <button class="qty-btn" data-action="remove" data-id="${prodId}">-</button>
                                <span style="font-weight: 700; padding: 0 10px;">${qty}</span>
                                <button class="qty-btn" data-action="add" data-id="${prodId}">+</button>
                            </div>`;
                    }
                }
            },

            toggleCart() {
                const modal = document.getElementById('cart-modal');
                modal.open ? this.closeModal(modal) : (this.renderCartModal(), this.openModal(modal));
            },

            toggleFAQ() {
                const modal = document.getElementById('faq-modal');
                const content = document.getElementById('faq-modal-body');
                const source = document.getElementById('seo-faq-content-source');
                
                if (modal.open) {
                    this.closeModal(modal);
                } else {
                    if(content.innerHTML.trim() === '') content.innerHTML = source.innerHTML;
                    this.openModal(modal);
                }
            },
            
            openModal(modal) { modal.showModal(); document.body.classList.add('modal-open'); },
            closeModal(modal) { modal.close(); document.body.classList.remove('modal-open'); },

            renderCartModal() {
                const body = document.getElementById('cart-body');
                const totalEl = document.getElementById('cart-total');
                const deliveryEl = document.getElementById('delivery-fee');
                let sub = 0; let html = ''; let isEmpty = true;
                for (const [id, qty] of Object.entries(this.cart)) {
                    const p = this.data.find(x => x.id === id);
                    if (p) {
                        isEmpty = false; sub += p.valor * qty;
                        html += `
                            <div class="cart-item">
                                <div style="flex:1">
                                    <div style="font-weight:600; font-size:0.9rem; margin-bottom:4px;">${p.nome}</div>
                                    <div style="font-size:0.8rem; color:#6b7280;">${qty} x R$ ${p.valor.toFixed(2).replace('.', ',')}</div>
                                </div>
                                <div class="qty-control" style="height:32px; align-self:center;">
                                    <button class="qty-btn" data-action="remove" data-id="${id}">-</button>
                                    <span style="padding:0 10px; font-weight:700;">${qty}</span>
                                    <button class="qty-btn" data-action="add" data-id="${id}">+</button>
                                </div>
                            </div>`;
                    }
                }
                if (isEmpty) {
                    body.innerHTML = `<div class="text-center" style="padding:40px; color:var(--text-muted)">Seu carrinho est√° vazio.</div>`;
                    totalEl.innerText = 'R$ 0,00'; deliveryEl.innerText = '-'; return;
                }
                body.innerHTML = html;
                const delivery = sub >= 85 ? 0 : 15; const total = sub + delivery;
                deliveryEl.innerHTML = delivery === 0 ? '<span style="color:green; font-weight:bold">GR√ÅTIS</span>' : `R$ ${delivery.toFixed(2).replace('.', ',')}`;
                totalEl.innerText = `R$ ${total.toFixed(2).replace('.', ',')}`;
            },

            checkout() {
                if (Object.keys(this.cart).length === 0) return alert('Carrinho vazio.');
                let items = []; let sub = 0;
                for (const [id, qty] of Object.entries(this.cart)) {
                    const p = this.data.find(x => x.id === id);
                    if (p) { sub += p.valor * qty; items.push({...p, qty}); }
                }
                const delivery = sub >= 85 ? 0 : 15; const total = sub + delivery;
                let msg = `*NOVO PEDIDO - DONA ANT√îNIA*\n--------------------------------\n`;
                items.forEach(i => { msg += `‚Ä¢ [${i.codigo || 'S/COD'}] ${i.nome}\n   ${i.qty}un x R$ ${i.valor.toFixed(2)}\n`; });
                msg += `--------------------------------\nSubtotal: R$ ${sub.toFixed(2).replace('.', ',')}\nTaxa de Entrega: ${delivery === 0 ? 'GR√ÅTIS' : 'R$ ' + delivery.toFixed(2).replace('.', ',')}\n*TOTAL FINAL: R$ ${total.toFixed(2).replace('.', ',')}*`;
                window.open(`https://api.whatsapp.com/send?phone=${this.phone}&text=${encodeURIComponent(msg)}`, '_blank');
            }
        };

        const ProductModal = {
            modal: null, content: null, currentItemIndex: 0, mediaItems: [], currentProductId: null,
            init() { this.modal = document.getElementById('product-modal'); this.content = document.getElementById('pm-content'); },
            async open(productId) {
                const product = App.data.find(p => p.id === productId); if(!product) return;
                this.currentProductId = productId;
                if(!this.modal.open) { App.openModal(this.modal); this.content.innerHTML = '<div style="padding:40px; text-align:center;">Carregando...</div>'; }
                const mediaItems = [];
                if(product.imagem) mediaItems.push({ type: 'img', src: product.imagem });
                const basePath = product.imagem.substring(0, product.imagem.lastIndexOf('.'));
                const suffixes = ['A', 'B', 'C', 'D'];
                const checkUrl = (url, type) => new Promise(resolve => {
                    const el = type === 'video' ? document.createElement('video') : new Image();
                    el.onload = el.onloadedmetadata = () => resolve({ type, src: url });
                    el.onerror = () => resolve(null); el.src = url;
                });
                const checks = [];
                suffixes.forEach(s => {
                    checks.push(checkUrl(`${basePath}${s}.webp`, 'img')); checks.push(checkUrl(`${basePath}${s}.mp4`, 'video'));
                    checks.push(checkUrl(`${basePath}${s.toLowerCase()}.webp`, 'img')); checks.push(checkUrl(`${basePath}${s.toLowerCase()}.mp4`, 'video'));
                });
                const results = await Promise.all(checks);
                results.forEach(res => { if(res) mediaItems.push(res); });
                this.mediaItems = mediaItems; this.currentItemIndex = 0;
                this.render(product); App.updateUI(product.id);
            },
            navigate(direction) {
                let list = App.visualOrderData; if (!list || list.length === 0) list = App.data;
                let idx = list.findIndex(p => p.id === this.currentProductId); if (idx === -1) return;
                let newIdx = idx + direction;
                if (newIdx >= 0 && newIdx < list.length) { this.open(list[newIdx].id); }
            },
            render(product) {
                let itemsListHtml = '';
                if(product.items && product.items.length > 0) {
                    itemsListHtml = `<div class="pm-combo-list"><div class="pm-combo-title">Conte√∫do da Cesta:</div>${product.items.map(item => `<div class="pm-combo-item"><span>${item.nome}</span><span class="pm-combo-qty">x${item.qty}</span></div>`).join('')}</div>`;
                }
                const hasMediaArrows = this.mediaItems.length > 1;
                this.content.innerHTML = `
                    <button class="btn-close-pm" onclick="ProductModal.close()">‚úï</button>
                    <div class="pm-gallery">
                        <div class="pm-stage" id="pm-stage">${this.getMediaHTML(0)}</div>
                        ${hasMediaArrows ? `<button class="pm-arrow prev" onclick="ProductModal.slide(-1)">‚ùÆ</button><button class="pm-arrow next" onclick="ProductModal.slide(1)">‚ùØ</button>` : ''}
                    </div>
                    <div class="pm-info">
                        <div class="pm-header">${product.codigo ? `<span class="pm-code">${product.codigo}</span>` : ''}<h2 class="pm-title">${product.nome}</h2></div>
                        <div class="pm-desc">${product.caracteristicas ? product.caracteristicas : ''}${itemsListHtml}</div>
                        <div class="pm-footer">
                            <div class="pm-price">R$ ${product.valor.toFixed(2).replace('.', ',')}</div>
                            <div id="pm-ctrl-${product.id}"></div>
                            <div class="pm-nav-actions"><button class="btn-prod-nav" onclick="ProductModal.navigate(-1)">‚ùÆ ANTERIOR</button><button class="btn-prod-nav" onclick="ProductModal.navigate(1)">PR√ìXIMO ‚ùØ</button></div>
                        </div>
                    </div>`;
            },
            getMediaHTML(index) {
                if(this.mediaItems.length === 0) return '<div style="color:white">Sem imagem</div>';
                const item = this.mediaItems[index];
                return item.type === 'video' ? `<video src="${item.src}" controls autoplay style="max-height:100%; max-width:100%"></video>` : `<img src="${item.src}" alt="Produto">`;
            },
            slide(direction) {
                this.currentItemIndex += direction;
                if(this.currentItemIndex >= this.mediaItems.length) this.currentItemIndex = 0;
                if(this.currentItemIndex < 0) this.currentItemIndex = this.mediaItems.length - 1;
                document.getElementById('pm-stage').innerHTML = this.getMediaHTML(this.currentItemIndex);
            },
            close() { App.closeModal(this.modal); this.content.innerHTML = ''; }
        };

        document.addEventListener('DOMContentLoaded', () => { App.init(); });
    </script>
</body>
</html>
