<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dona Ant√¥nia - Atendimento</title>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563EB;
            --bg-chat: #F0F2F5;
            --bot-bubble: #FFFFFF;
            --user-bubble: #005C4B;
        }

        body { font-family: 'Inter', sans-serif; background: var(--bg-chat); margin: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }

        /* Header Estilo WhatsApp */
        .chat-header { background: #008069; color: white; padding: 12px 16px; display: flex; align-items: center; gap: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); z-index: 10; }
        .avatar { width: 40px; height: 40px; border-radius: 50%; background: white; padding: 2px; }
        .status-info h2 { margin: 0; font-size: 16px; font-weight: 600; }
        .status-online { font-size: 12px; opacity: 0.9; }

        /* √Årea do Chat */
        #chat-window { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 12px; }
        
        /* Bal√µes */
        .bubble { max-width: 85%; padding: 10px 14px; border-radius: 12px; font-size: 14.5px; line-height: 1.4; position: relative; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .bot { background: var(--bot-bubble); align-self: flex-start; border-top-left-radius: 0; color: #111; }
        .user { background: #dcf8c6; align-self: flex-end; border-top-right-radius: 0; color: #111; }

        /* Card de Cesta Refinado */
        .basket-card { background: white; border-radius: 12px; overflow: hidden; border: 1px solid #ddd; margin-top: 8px; width: 100%; max-width: 280px; align-self: flex-start; }
        .basket-card img { width: 100%; height: 160px; object-fit: cover; }
        .card-details { padding: 12px; }
        .card-title { font-weight: 800; font-size: 16px; display: block; color: #1f2937; }
        .card-price { color: #059669; font-weight: 800; font-size: 18px; margin: 5px 0; display: block; }
        
        /* Lista de Itens dentro do Card */
        .item-list { font-size: 12px; color: #4b5563; margin: 8px 0; border-top: 1px solid #eee; padding-top: 8px; }
        .item-row { display: flex; justify-content: space-between; margin-bottom: 2px; }

        /* Bot√µes de A√ß√£o */
        .options-footer { padding: 12px; display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; background: #fff; border-top: 1px solid #ddd; }
        .btn-choice { background: #e7f3ff; border: none; color: #1877f2; padding: 10px 16px; border-radius: 20px; cursor: pointer; font-weight: 600; font-size: 13px; transition: 0.2s; }
        .btn-choice:hover { background: #1877f2; color: white; }
        
        .btn-buy { background: #25D366; color: white; border: none; padding: 12px; border-radius: 8px; width: 100%; font-weight: 700; cursor: pointer; text-decoration: none; display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 8px; }

        .typing { font-size: 12px; color: #666; padding: 0 20px; display: none; margin-bottom: 10px; }
    </style>
</head>
<body>

    <header class="chat-header">
        <img src="https://donaantonia.com.br/img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif" class="avatar">
        <div class="status-info">
            <h2>Dona Ant√¥nia</h2>
            <span class="status-online">Atendente Virtual</span>
        </div>
    </header>

    <div id="chat-window"></div>
    <div id="typing" class="typing">Dona Ant√¥nia est√° escrevendo...</div>

    <div class="options-footer" id="options"></div>

    <script>
        // Dados sincronizados com seu index(8).html
        const BASKETS = {
            'GRANDE': { 
                name: 'Cesta Grande', 
                p: 'R$ 355', 
                img: 'https://donaantonia.com.br/img/cesta-basica-cuiaba-varzea-grande-grande.avif',
                items: ['Arroz 5kg (2un)', 'Feij√£o 1kg (4un)', '√ìleo 900ml (4un)', 'A√ß√∫car 2kg (2un)', 'Caf√© 250g (2un)', 'Macarr√£o 500g (3un)']
            },
            'MEDIA': { 
                name: 'Cesta M√©dia', 
                p: 'R$ 300', 
                img: 'https://donaantonia.com.br/img/cesta-basica-cuiaba-varzea-grande-media.avif',
                items: ['Arroz 5kg (1un)', 'Feij√£o 1kg (3un)', '√ìleo 900ml (2un)', 'A√ß√∫car 2kg (2un)', 'Caf√© 250g (2un)']
            },
            'PEQUENA': { 
                name: 'Cesta Pequena', 
                p: 'R$ 205', 
                img: 'https://donaantonia.com.br/img/cesta-basica-cuiaba-varzea-grande-pequena.avif',
                items: ['Arroz 5kg (1un)', 'Feij√£o 1kg (2un)', 'A√ß√∫car 2kg (1un)', '√ìleo 900ml (2un)']
            },
            'ECONOMICA': { 
                name: 'Cesta Econ√¥mica', 
                p: 'R$ 80', 
                img: 'https://donaantonia.com.br/img/cesta-basica-cuiaba-varzea-grande-economica.avif',
                items: ['Arroz 2kg (1un)', 'Feij√£o 1kg (1un)', '√ìleo 900ml (1un)', 'Macarr√£o 500g (1un)']
            }
        };

        const chat = document.getElementById('chat-window');
        const options = document.getElementById('options');
        const typingIndicator = document.getElementById('typing');

        function addMsg(text, type) {
            const b = document.createElement('div');
            b.className = `bubble ${type}`;
            b.innerHTML = text;
            chat.appendChild(b);
            chat.scrollTop = chat.scrollHeight;
        }

        function showBasket(key) {
            const b = BASKETS[key];
            const card = document.createElement('div');
            card.className = 'basket-card';
            
            // Gerando lista de itens resumida para o card
            const listHtml = b.items.map(i => `<div class="item-row"><span>${i}</span></div>`).join('');

            card.innerHTML = `
                <img src="${b.img}">
                <div class="card-details">
                    <span class="card-title">${b.name}</span>
                    <span class="card-price">${b.p}</span>
                    <div class="item-list"><strong>O que vem nela:</strong>${listHtml}</div>
                    <a href="https://api.whatsapp.com/send?phone=5565998150975&text=Ol√°! Gostaria de encomendar a ${b.name}" class="btn-buy">
                        <i class="ph-fill ph-whatsapp-logo"></i> Pedir pelo WhatsApp
                    </a>
                </div>
            `;
            chat.appendChild(card);
            chat.scrollTop = chat.scrollHeight;
        }

        function delay(ms) { return new Promise(res => setTimeout(res, ms)); }

        async function start() {
            typingIndicator.style.display = 'block';
            await delay(1500);
            typingIndicator.style.display = 'none';
            addMsg("Ol√°! Sou a assistente da <b>Dona Ant√¥nia</b>. Que bom ter voc√™ aqui! üß∫", 'bot');
            
            await delay(1000);
            addMsg("Trabalhamos com cestas completas para Cuiab√° e V√°rzea Grande. Qual dessas voc√™ quer conhecer?", 'bot');
            
            showMenu();
        }

        function showMenu() {
            options.innerHTML = `
                <button class="btn-choice" onclick="choose('GRANDE')">Cesta Grande</button>
                <button class="btn-choice" onclick="choose('MEDIA')">Cesta M√©dia</button>
                <button class="btn-choice" onclick="choose('PEQUENA')">Cesta Pequena</button>
                <button class="btn-choice" onclick="choose('ECONOMICA')">Econ√¥mica</button>
            `;
        }

        async function choose(key) {
            options.innerHTML = '';
            addMsg(`Quero ver a ${BASKETS[key].name}`, 'user');
            
            typingIndicator.style.display = 'block';
            await delay(1200);
            typingIndicator.style.display = 'none';
            
            addMsg(`√ìtima escolha! Aqui est√£o os detalhes da <b>${BASKETS[key].name}</b>:`, 'bot');
            showBasket(key);

            await delay(2000);
            addMsg("Deseja ver mais alguma ou tirar uma d√∫vida?", 'bot');
            options.innerHTML = `
                <button class="btn-choice" onclick="showMenu()">Ver outras cestas</button>
                <button class="btn-choice" onclick="window.location.href='https://api.whatsapp.com/send?phone=5565998150975'">Falar com Atendente</button>
            `;
        }

        window.onload = start;
    </script>
</body>
</html>
