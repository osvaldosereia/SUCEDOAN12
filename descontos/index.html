<!DOCTYPE html>
<html lang="pt-BR" itemscope itemtype="https://schema.org/LocalBusiness">
<head>
    <!-- 
        ================================================================
        PILLAR 1: CORE WEB VITALS & SEO CONFIG
        ================================================================
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cesta Pequena Promo√ß√£o | Super Cestas Dona Ant√¥nia</title>
    <meta name="description" content="Garanta sua Cesta Pequena Dona Ant√¥nia com desconto VIP. Entrega em Cuiab√° e V√°rzea Grande. Qualidade e economia na sua mesa.">
    <meta name="theme-color" content="#2563EB">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.donaantonia.com.br/cesta-pequena">

    <!-- SEO LOCAL + PRODUCT SCHEMA (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "LocalBusiness",
          "@id": "https://www.donaantonia.com.br",
          "name": "Super Cestas Dona Ant√¥nia de Cuiab√° e VG",
          "image": "https://donaantonia.com.br/img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif",
          "telephone": "5565998150975",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "R. Trinta, 105 - Jardim Nossa Sra. Aparecida",
            "addressLocality": "Cuiab√°",
            "addressRegion": "MT",
            "postalCode": "78090-660",
            "addressCountry": "BR"
          },
          "geo": {
            "@type": "GeoCoordinates",
            "latitude": -15.636881, 
            "longitude": -56.046892 
          },
          "openingHoursSpecification": [
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": [
                "Monday",
                "Tuesday",
                "Wednesday",
                "Thursday",
                "Friday",
                "Saturday"
              ],
              "opens": "08:00",
              "closes": "12:00"
            }
          ],
          "url": "https://www.donaantonia.com.br",
          "priceRange": "$$"
        },
        {
          "@type": "Product",
          "name": "Cesta B√°sica Pequena",
          "description": "Cesta completa com alimentos e produtos de limpeza essenciais. 27 itens de qualidade.",
          "image": "https://donaantonia.com.br/img/cesta-pequena.jpg",
          "offers": {
            "@type": "Offer",
            "priceCurrency": "BRL",
            "price": "205.00",
            "availability": "https://schema.org/InStock",
            "seller": {
              "@type": "LocalBusiness",
              "name": "Super Cestas Dona Ant√¥nia"
            }
          }
        }
      ]
    }
    </script>

    <!-- PILLAR 3: SECURITY SUITE -->
    <script>
        (function() {
            // 1. DOMAIN LOCK & FRAME BUSTER
            const allowedDomains = ['www.donaantonia.com.br', 'donaantonia.com.br', 'localhost', '127.0.0.1'];
            const currentDomain = window.location.hostname;
            const isPreviewEnv = currentDomain.includes('google') || currentDomain.includes('sandbox') || currentDomain.includes('content') || currentDomain.includes('firebaseapp');
            
            if (!isPreviewEnv && !allowedDomains.some(d => currentDomain.endsWith(d))) {
                console.warn(`‚ö†Ô∏è [SECURITY] Dom√≠nio n√£o autorizado.`);
                // window.location.replace('https://www.donaantonia.com.br'); // UNCOMMENT IN PROD
            }
            if (window.top !== window.self && !isPreviewEnv) {
                window.top.location = window.self.location;
            }

            // 2. DISABLE RIGHT CLICK & DRAG
            document.addEventListener('contextmenu', event => event.preventDefault());
            document.addEventListener('dragstart', event => event.preventDefault());
        })();
    </script>

    <!-- PILLAR 2: TRACKING & ANALYTICS -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function generateEventID() {
            return 'evt_' + Date.now() + '_' + Math.floor(Math.random() * 100000);
        }
        function trackMarketingEvent(eventName, params = {}) {
            const eventData = {
                'event': eventName,
                'eventID': generateEventID(),
                'timestamp': new Date().toISOString(),
                ...params
            };
            window.dataLayer.push(eventData);
            if (typeof fbq === 'function') {
                fbq('track', eventName, params, { eventID: eventData.eventID });
            }
            console.log(`%c[MARKETING] ${eventName}`, "background:#0f172a;color:#22c55e;padding:4px;border-radius:4px;", eventData);
        }
    </script>

    <!-- LIBS -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #2563EB; /* Azul Dona Antonia */
            --action-color: #10B981; /* Verde A√ß√£o/Zap */
            --action-dark: #059669;
            --bg-color: #F1F5F9; 
            --text-main: #0F172A;
            --text-sub: #64748B;
            --white: #ffffff;
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.08);
            
            /* Dimensoes */
            --app-bar-height: 70px;
        }

        /* RESET & BASE */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        input, textarea { user-select: text; }
        
        body {
            margin: 0 auto; padding: 0;
            font-family: 'Inter', sans-serif;
            background-color: #cbd5e1;
            color: var(--text-main);
            height: 100vh;
            display: flex; align-items: center; justify-content: center;
        }

        .app-container {
            background-color: var(--bg-color);
            width: 100%; max-width: 480px; height: 100%;
            display: flex; flex-direction: column;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 40px rgba(0,0,0,0.1);
        }

        /* HEADER */
        .modern-header {
            background-color: var(--white); height: 64px; padding: 0 16px;
            display: flex; align-items: center; justify-content: space-between;
            border-bottom: 1px solid #E2E8F0; 
            position: absolute; top: 0; left: 0; right: 0; z-index: 20;
            transition: transform 0.3s ease-in-out;
        }
        .modern-header.hidden {
            transform: translateY(-100%);
        }
        
        .brand-wrapper { display: flex; align-items: center; gap: 10px; flex: 1; overflow: hidden; }
        .brand-logo { width: 36px; height: 36px; border-radius: 50%; object-fit: cover; border: 2px solid #E2E8F0; flex-shrink: 0; }
        .brand-info { overflow: hidden; }
        .brand-info h1 { 
            font-size: 14px; font-weight: 700; margin: 0; color: var(--text-main); 
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }
        .status-dot { width: 8px; height: 8px; background-color: #10B981; border-radius: 50%; display: inline-block; margin-right: 4px; }
        .status-text { font-size: 11px; color: var(--text-sub); }

        /* CHAT AREA */
        #chat-container {
            flex: 1; overflow-y: auto; padding: 16px; 
            padding-top: 80px; /* Header Space */
            padding-bottom: 140px; /* Footer + Interaction Space */
            background-color: var(--bg-color); 
            scroll-behavior: smooth;
        }
        #chat-container::-webkit-scrollbar { width: 4px; }
        #chat-container::-webkit-scrollbar-thumb { background-color: #CBD5E1; border-radius: 4px; }

        .msg-row { display: flex; width: 100%; margin-bottom: 16px; } 
        .msg-start { justify-content: flex-start; }
        .msg-end { justify-content: flex-end; }
        
        .msg-bubble {
            padding: 14px 18px;
            max-width: 85%; 
            font-size: 16px; 
            line-height: 1.6;
            position: relative; box-shadow: 0 1px 2px rgba(0,0,0,0.04);
            word-wrap: break-word;
        }
        .msg-in { 
            background: var(--white); color: var(--text-main); 
            border-radius: 0 18px 18px 18px;
            margin-left: 8px;
        }
        .avatar-holder { width: 32px; height: 32px; border-radius: 50%; overflow: hidden; flex-shrink: 0; margin-top: 2px; }
        .avatar-holder img { width: 100%; height: 100%; object-fit: cover; }

        .msg-out { 
            background: var(--primary); color: white;
            border-radius: 18px 0 18px 18px; 
        }

        .msg-bubble.full-width {
            max-width: 100%; width: 100%; padding: 0;
            background: transparent; box-shadow: none; margin-left: 0;
        }

        /* IMAGENS DO CHAT */
        .msg-image-full {
            width: 100%; 
            height: auto; /* Mant√©m propor√ß√£o original */
            display: block; border-radius: 12px;
            box-shadow: var(--shadow-md); pointer-events: none;
            object-fit: cover;
        }

        /* GRID ANIMATION */
        .grid-container {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 10px; width: 100%; margin-top: 8px; padding: 0 2px;
        }
        .mini-card {
            background: var(--white); border: 1px solid #E2E8F0; border-radius: 10px; 
            padding: 8px; text-align: center;
            display: flex; flex-direction: column; align-items: center; justify-content: space-between;
            animation: fadeInScale 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            height: 150px; 
            overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.04);
        }
        @keyframes fadeInScale { 0% { opacity: 0; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1); } }
        .mini-card img { 
            width: 100%; height: 100px;
            object-fit: contain; 
            mix-blend-mode: multiply; flex-shrink: 0; 
        }
        .mini-card span { 
            font-size: 11px; line-height: 1.2; color: var(--text-sub); font-weight: 700; 
            display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
            margin-top: 6px;
        }

        /* --- UI MODERNA: NAVIGATION BAR FIXA --- */
        .app-navigation-bar {
            position: absolute; bottom: 0; left: 0; right: 0;
            height: var(--app-bar-height);
            background: var(--white);
            border-top: 1px solid #E2E8F0;
            display: flex; align-items: center; justify-content: space-around;
            padding: 0 16px; z-index: 50;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.03);
        }

        .nav-item {
            display: flex; flex-direction: column; align-items: center; gap: 4px;
            color: var(--text-sub); text-decoration: none;
            background: none; border: none; cursor: pointer;
            transition: all 0.2s;
        }
        .nav-item:active { transform: scale(0.9); color: var(--primary); }
        
        /* FIX: SVG Icons stability */
        .nav-item svg { width: 24px; height: 24px; fill: currentColor; }
        .nav-item span { font-size: 10px; font-weight: 600; }
        
        /* Cor espec√≠fica para marcas */
        .nav-item.wa { color: #25D366; }
        .nav-item.fb { color: #1877F2; }
        .nav-item.ig { color: #E1306C; }
        .nav-item.info { color: var(--text-main); }


        /* --- UI MODERNA: INTERACTION ZONE (ABOVE FOOTER) --- */
        .interaction-zone {
            position: absolute; 
            bottom: var(--app-bar-height); left: 0; right: 0;
            z-index: 40;
            padding: 10px 16px 16px 16px;
            /* Gradiente suave para o texto n√£o ficar voando */
            background: linear-gradient(to top, rgba(241,245,249,1) 80%, rgba(241,245,249,0));
            display: flex; flex-direction: column; align-items: center; gap: 10px;
            min-height: 10px;
        }

        /* INPUT FIELD */
        .input-area {
            display: flex; gap: 8px; width: 100%; align-items: center;
            background: white; padding: 6px; border-radius: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08); border: 1px solid #E2E8F0;
            animation: slideUpFade 0.3s ease-out;
        }
        .chat-input {
            flex: 1; padding: 10px 16px; border: none;
            font-size: 16px; outline: none; font-family: 'Inter', sans-serif;
            background: transparent; color: var(--text-main);
        }
        .send-btn {
            background: var(--primary); color: white; border: none;
            width: 40px; height: 40px; border-radius: 50%; font-size: 18px;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: transform 0.1s;
        }
        .send-btn:active { transform: scale(0.95); }

        /* ACTION BUTTONS */
        .actions-area {
            display: flex; gap: 10px; width: 100%; overflow-x: auto; 
            padding: 4px 2px; scrollbar-width: none;
            justify-content: flex-end; /* Alinha bot√µes √† direita como chat */
            animation: slideUpFade 0.3s ease-out;
        }
        .actions-area::-webkit-scrollbar { display: none; }

        .action-btn-modern {
            background: var(--white); 
            border: 1px solid #CBD5E1;
            color: var(--text-main);
            font-weight: 600; padding: 10px 20px; border-radius: 20px;
            cursor: pointer; font-size: 14px; white-space: nowrap;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.2s;
        }
        .action-btn-modern:active { transform: scale(0.96); background: #F1F5F9; }
        
        .action-btn-modern.primary { 
            background: var(--action-color); color: white; border: none; 
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
            font-weight: 700;
        }

        @keyframes slideUpFade {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* MODAL */
        .modal-overlay {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5); z-index: 2000;
            display: flex; align-items: center; justify-content: center;
            padding: 20px; backdrop-filter: blur(5px);
            opacity: 0; visibility: hidden; transition: all 0.3s;
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        
        .modal-content {
            background: white; width: 100%; max-width: 360px;
            border-radius: 24px; padding: 0; position: relative;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
            transform: scale(0.95); transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            overflow: hidden; max-height: 90vh; overflow-y: auto;
        }
        .modal-overlay.active .modal-content { transform: scale(1); }

        .close-modal {
            position: absolute; top: 12px; right: 12px;
            background: #F1F5F9; border: none; width: 32px; height: 32px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            cursor: pointer; color: var(--text-sub); z-index: 10;
        }

        /* MODAL CUSTOM STYLES */
        .modal-header { padding: 24px 24px 16px 24px; border-bottom: 1px solid #F1F5F9; text-align: center; }
        .modal-header img { width: 70px; height: 70px; border-radius: 50%; border: 3px solid #E2E8F0; margin-bottom: 8px; }
        .modal-header h3 { margin: 0; font-size: 18px; font-weight: 700; color: var(--text-main); }
        .modal-header p { margin: 4px 0 0 0; font-size: 13px; color: var(--text-sub); }
        
        .stats-grid { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 16px 24px;
        }
        .stat-item {
            background: #F8FAFC; padding: 10px; border-radius: 12px; text-align: center;
            border: 1px solid #E2E8F0;
        }
        .stat-item i { font-size: 20px; color: var(--primary); margin-bottom: 4px; display: block; }
        .stat-item strong { display: block; font-size: 14px; font-weight: 700; color: var(--text-main); }
        .stat-item span { font-size: 11px; color: var(--text-sub); }

        .info-list { padding: 0 24px 16px 24px; list-style: none; margin: 0; }
        .info-row { 
            display: flex; gap: 12px; padding: 12px 0; border-bottom: 1px solid #F1F5F9;
            font-size: 14px; color: var(--text-main); align-items: flex-start;
        }
        .info-row:last-child { border-bottom: none; }
        .info-row i { color: var(--text-sub); font-size: 18px; margin-top: 2px; }
        .info-content { flex: 1; }
        .info-label { display: block; font-size: 11px; color: var(--text-sub); font-weight: 600; text-transform: uppercase; margin-bottom: 2px; }

        .payment-badge {
            background: #ECFDF5; color: #047857; text-align: center; padding: 12px;
            margin: 0 24px 24px 24px; border-radius: 12px; font-weight: 700; font-size: 14px;
            display: flex; align-items: center; justify-content: center; gap: 8px;
            border: 1px solid #10B981;
        }

        /* TYPING INDICATOR */
        .typing-bubble {
            padding: 14px 18px; background: var(--white); border-radius: 0 18px 18px 18px;
            display: inline-flex; gap: 4px; width: fit-content;
            margin-left: 8px; margin-bottom: 12px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.04);
        }
        .dot { width: 7px; height: 7px; background: #94A3B8; border-radius: 50%; animation: bounce 1.4s infinite ease-in-out; }
        .dot:nth-child(1) { animation-delay: -0.32s; }
        .dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    </style>
</head>
<body oncontextmenu="return false;">

    <div class="app-container">
        <!-- HEADER (Collapsible) -->
        <header id="main-header" class="modern-header">
            <div class="brand-wrapper">
                <img src="https://donaantonia.com.br/img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif" 
                     class="brand-logo" alt="Logo Dona Ant√¥nia"
                     onerror="this.src='https://placehold.co/40x40/2563EB/ffffff?text=DA'">
                <div class="brand-info">
                    <h1>Super Cestas Dona Ant√¥nia de Cuiab√° e VG</h1>
                    <div>
                        <span class="status-dot"></span>
                        <span class="status-text">Online</span>
                    </div>
                </div>
            </div>
            <i class="ph ph-dots-three-vertical" style="font-size: 24px; color: var(--text-sub);"></i>
        </header>

        <!-- CHAT MAIN -->
        <main id="chat-container">
            <!-- Messages injected via JS -->
        </main>

        <!-- INTERACTION ZONE (Inputs & Actions ABOVE Footer) -->
        <div id="interaction-zone" class="interaction-zone">
            <!-- Dynamic Content Here -->
        </div>

        <!-- FIXED APP NAVIGATION BAR (Footer) -->
        <footer class="app-navigation-bar">
            <!-- WHATSAPP SVG INLINE -->
            <a href="https://wa.me/5565998150975" target="_blank" class="nav-item wa" 
               onclick="trackMarketingEvent('Contact', {method: 'whatsapp', location: 'navbar'})">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M187.58,144.84l-32-16a8,8,0,0,0-8,.5l-14.69,9.8a40.55,40.55,0,0,1-16-16l9.8-14.69a8,8,0,0,0,.5-8l-16-32A8,8,0,0,0,104,64a40,40,0,0,0-40,40,88.1,88.1,0,0,0,88,88,40,40,0,0,0,40-40A8,8,0,0,0,187.58,144.84ZM152,176a72.13,72.13,0,0,1-56-56,24,24,0,0,1,16-24L122,116l-6.8,10.2a24.58,24.58,0,0,0-1.2,26,24.58,24.58,0,0,0,26,1.2L150,147l20,10A24,24,0,0,1,152,176ZM128,24A104,104,0,0,0,36.18,176.88L24.83,210.93a16,16,0,0,0,20.24,20.24l34.05-11.35A104,104,0,1,0,128,24Zm0,192a87.87,87.87,0,0,1-44.06-11.81,8,8,0,0,0-6.54-.67L40,216l12.47-37.4a8,8,0,0,0-.66-6.54A88,88,0,1,1,128,216Z"></path></svg>
                <span>WhatsApp</span>
            </a>
            
            <!-- FACEBOOK SVG INLINE -->
            <a href="https://facebook.com/cestas.dona.antonia" target="_blank" class="nav-item fb"
               onclick="trackMarketingEvent('Contact', {method: 'facebook', location: 'navbar'})">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm24-112h-8V88a16,16,0,0,0-16-16H112a8,8,0,0,0-8,8v24H96a8,8,0,0,0-8,8v32a8,8,0,0,0,8,8h8v48a8,8,0,0,0,8,8h32a8,8,0,0,0,8-8V152h16a8,8,0,0,0,8-8V112A8,8,0,0,0,152,104Z"></path></svg>
                <span>Facebook</span>
            </a>
            
            <!-- INSTAGRAM SVG INLINE -->
            <a href="https://www.instagram.com/cestas.dona.antonia.cuiaba.vg/" target="_blank" class="nav-item ig"
               onclick="trackMarketingEvent('Contact', {method: 'instagram', location: 'navbar'})">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160ZM176,24H80A56.06,56.06,0,0,0,24,80v96a56.06,56.06,0,0,0,56,56h96a56.06,56.06,0,0,0,56-56V80A56.06,56.06,0,0,0,176,24Zm40,152a40,40,0,0,1-40,40H80a40,40,0,0,1-40-40V80A40,40,0,0,1,80,40h96a40,40,0,0,1,40,40ZM192,76a12,12,0,1,1-12-12A12,12,0,0,1,192,76Z"></path></svg>
                <span>Instagram</span>
            </a>
            
            <!-- LOJA SVG INLINE -->
            <button onclick="toggleModal(true)" class="nav-item info">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M240,112H232V96a16,16,0,0,0-16-16H184a16,16,0,0,0-16,16v16H88V96A16,16,0,0,0,72,80H40A16,16,0,0,0,24,96v16H16a8,8,0,0,0-8,8v88a16,16,0,0,0,16,16H232a16,16,0,0,0,16-16V120A8,8,0,0,0,240,112Zm-72-16h48v16H168Zm-128,0h48v16H40ZM24,208V128H232v80Zm56-48H48a8,8,0,0,0,0,16H80a8,8,0,0,0,0-16Zm128,0H176a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-8-128H56a8,8,0,0,1,8-8H192A8,8,0,0,1,200,32Z"></path></svg>
                <span>Loja</span>
            </button>
        </footer>

        <!-- MODAL INFO (NEW STRUCTURE) -->
        <div id="infoModal" class="modal-overlay" onclick="if(event.target === this) toggleModal(false)">
            <div class="modal-content">
                <button class="close-modal" onclick="toggleModal(false)"><i class="ph-bold ph-x"></i></button>
                
                <div class="modal-header">
                    <img src="https://donaantonia.com.br/img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif" 
                         alt="Logo Dona Ant√¥nia" 
                         onerror="this.src='https://placehold.co/70x70/2563EB/ffffff?text=DA'">
                    <h3>Dona Ant√¥nia</h3>
                    <p style="font-weight: 500;">Super Cestas B√°sicas</p>
                    <p style="font-size: 11px; margin-top: 2px;">CNPJ: 51.385.335.0001-06</p>
                </div>

                <!-- PROVA SOCIAL EM GRID -->
                <div class="stats-grid">
                    <div class="stat-item">
                        <i class="ph-fill ph-package"></i>
                        <strong>+30 Mil</strong>
                        <span>Entregas</span>
                    </div>
                    <div class="stat-item">
                        <i class="ph-fill ph-calendar-check"></i>
                        <strong>8 Anos</strong>
                        <span>Em Cuiab√° e VG</span>
                    </div>
                    <div class="stat-item">
                        <i class="ph-fill ph-facebook-logo"></i>
                        <strong>+6 Mil</strong>
                        <span>Seguidores</span>
                    </div>
                    <div class="stat-item">
                        <i class="ph-fill ph-instagram-logo"></i>
                        <strong>~2 Mil</strong>
                        <span>Seguidores</span>
                    </div>
                </div>

                <div class="info-list">
                    <!-- ENDERE√áO -->
                    <div class="info-row">
                        <i class="ph-fill ph-map-pin" style="color:#ef4444;"></i>
                        <div class="info-content">
                            <span class="info-label">Endere√ßo</span>
                            <a href="https://maps.google.com/?q=R.+Trinta,+105+-+Jardim+Nossa+Sra.+Aparecida,+Cuiab√°+-+MT,+78090-660" target="_blank" style="text-decoration:none; color:inherit;">
                                R. Trinta, 105 - Jardim Nossa Sra. Aparecida, Cuiab√° - MT
                            </a>
                        </div>
                    </div>

                    <!-- TELEFONES -->
                    <div class="info-row">
                        <i class="ph-fill ph-phone" style="color:#22c55e;"></i>
                        <div class="info-content">
                            <span class="info-label">Telefones ‚≠ê</span>
                            <div style="display:flex; flex-direction:column; gap:4px;">
                                <a href="tel:65996813588" style="text-decoration:none; color:inherit; font-weight:600;">(65) 99681-3588</a>
                                <a href="tel:65998150975" style="text-decoration:none; color:inherit; font-weight:600;">(65) 99815-0975</a>
                            </div>
                        </div>
                    </div>

                    <!-- HOR√ÅRIOS -->
                    <div class="info-row">
                        <i class="ph-fill ph-clock" style="color:#f59e0b;"></i>
                        <div class="info-content">
                            <span class="info-label">Funcionamento</span>
                            <div>Segunda a S√°bado: 08:00 ‚Äì 12:00</div>
                            <div style="color:#ef4444; font-size:12px;">Domingo: Fechado</div>
                        </div>
                    </div>
                </div>

                <!-- PAGAMENTO -->
                <div class="payment-badge">
                    <i class="ph-fill ph-money"></i>
                    Pague s√≥ na entrega na sua casa
                </div>

            </div>
        </div>
    </div>

    <script>
        // --- HEADER SCROLL LOGIC ---
        const header = document.getElementById('main-header');
        const scrollContainer = document.getElementById('chat-container');
        let lastScrollY = 0;

        scrollContainer.addEventListener('scroll', () => {
            const currentScrollY = scrollContainer.scrollTop;
            if (currentScrollY > 50) {
                if (currentScrollY > lastScrollY) header.classList.add('hidden');
                else header.classList.remove('hidden');
            } else {
                header.classList.remove('hidden');
            }
            lastScrollY = currentScrollY;
        });

        // --- PRODUTOS ---
        const CESTA_PEQUENA_ITEMS = [
            { name: "Arroz Koblenz 5kg", qtd: 2, type: "alimento" },
            { name: "A√ß√∫car Doce Dia 2kg", qtd: 1, type: "alimento" },
            { name: "√ìleo de Soja Liza", qtd: 2, type: "alimento" },
            { name: "Feij√£o Da Casa 1kg", qtd: 2, type: "alimento" },
            { name: "Caf√© Caboclo 250g", qtd: 1, type: "alimento" },
            { name: "Ovos (D√∫zia)", qtd: 1, type: "alimento" },
            { name: "Bolo Apti Choc.", qtd: 1, type: "alimento" },
            { name: "Espaguete QDelicia", qtd: 1, type: "alimento" },
            { name: "Trigo Vitoriosa 1kg", qtd: 1, type: "alimento" },
            { name: "Sal 1kg", qtd: 1, type: "alimento" },
            { name: "Molho Fugini 340g", qtd: 1, type: "alimento" },
            { name: "Milho Verde", qtd: 1, type: "alimento" },
            { name: "Tempero Tio Jonas", qtd: 1, type: "alimento" },
            { name: "Bolacha MyBit", qtd: 2, type: "alimento" },
            { name: "Miojo Apti", qtd: 2, type: "alimento" },
            { name: "Suco Frisco", qtd: 2, type: "alimento" },
            { name: "Sab√£o Barra Ype", qtd: 1, type: "limpeza" },
            { name: "Creme Dental", qtd: 1, type: "limpeza" },
            { name: "Papel Higi√™nico", qtd: 1, type: "limpeza" },
            { name: "Amaciante Ype 2L", qtd: 1, type: "limpeza" },
            { name: "Desinfetante 2L", qtd: 1, type: "limpeza" },
            { name: "Sab√£o em P√≥ OMO", qtd: 1, type: "limpeza" },
            { name: "Detergente Ype", qtd: 2, type: "limpeza" },
            { name: "Qboa 1 Litro", qtd: 1, type: "limpeza" },
            { name: "Sabonete Palmolive", qtd: 2, type: "limpeza" },
            { name: "L√£ de A√ßo", qtd: 1, type: "limpeza" },
            { name: "Esponja", qtd: 1, type: "limpeza" }
        ];

        // RECUPERADO DO ARQUIVO ORIGINAL - L√ìGICA COMPLETA DE IMAGENS
        function getProductImage(text) {
            const t = text.toLowerCase();
            const folderAlimento = 'img/alimento/';
            const folderLimpeza = 'img/limpeza/';
            const placeholder = `https://placehold.co/150x150/f1f5f9/334155?text=${encodeURIComponent(text.split(' ')[0])}`;
            
            if(t.includes('arroz')) return folderAlimento + 'Arroz Koblenz 5kg.webp';
            if(t.includes('a√ß√∫car')) return folderAlimento + 'a√ßucar doce dia 2 kg.webp';
            if(t.includes('oleo') || t.includes('√≥leo')) return folderAlimento + 'oleo de soja liza.webp';
            if(t.includes('feij√£o')) return folderAlimento + 'feij√£o da casa.webp';
            if(t.includes('caf√©')) return folderAlimento + 'cafe caboclo 250g.webp';
            if(t.includes('ovo')) return folderAlimento + 'ovo duzia.jpg';
            if(t.includes('bolo')) return folderAlimento + 'bolo apti chocolate.webp';
            if(t.includes('espaguete')) return folderAlimento + 'espaguete qdelicia.webp';
            if(t.includes('trigo')) return folderAlimento + 'trigo vitoriosa.webp';
            if(t.includes('sal')) return folderAlimento + 'sal.webp';
            if(t.includes('molho')) return folderAlimento + 'molho fugini.webp';
            if(t.includes('milho')) return folderAlimento + 'milho verde predileta.webp';
            if(t.includes('tempero')) return folderAlimento + 'tempero tio jonas.jpg';
            if(t.includes('bolacha')) return folderAlimento + 'bolacha mybit.webp';
            if(t.includes('miojo')) return folderAlimento + 'miojo apti.webp';
            if(t.includes('suco')) return folderAlimento + 'suco frisco.webp';
            if(t.includes('sab√£o barra')) return folderLimpeza + 'sab√£o barra ype 900g.webp';
            if(t.includes('creme dental')) return folderLimpeza + 'Creme Dental Sorriso 70g.webp';
            if(t.includes('papel')) return folderLimpeza + 'papel higienico.webp';
            if(t.includes('amaciante')) return folderLimpeza + 'amaciante ype 2L.webp';
            if(t.includes('desinfetante')) return folderLimpeza + 'Desinfetante Remmus 2L.webp';
            if(t.includes('sab√£o em p√≥') || t.includes('omo')) return folderLimpeza + 'sab√£o em p√≥ omo 800g.webp';
            if(t.includes('detergente')) return folderLimpeza + 'Detergente Ype 500ml.webp';
            if(t.includes('qboa')) return folderLimpeza + 'Qboa 1 Litro.webp';
            if(t.includes('sabonete')) return folderLimpeza + 'sabonete palmolive 85g.webp';
            if(t.includes('l√£')) return folderLimpeza + 'l√£ de a√ßo assolan.webp';
            if(t.includes('esponja')) return folderLimpeza + 'esponja de lavar lou√ßa.webp';

            return placeholder;
        }

        let userFullName = "";
        let userFirstName = "";
        const chatContainer = document.getElementById('chat-container');
        const interactionZone = document.getElementById('interaction-zone');

        function calculateTypingDelay(text) {
            if (!text) return 1500;
            const cleanText = text.replace(/<[^>]*>?/gm, ''); 
            const baseDelay = cleanText.length * 60; 
            const variation = Math.random() * 500;
            return Math.min(Math.max(baseDelay + variation, 1500), 5000);
        }

        function scrollToBottom() {
            setTimeout(() => {
                chatContainer.scrollTo({ top: chatContainer.scrollHeight, behavior: 'smooth' });
            }, 100);
        }

        function addMessage(content, type = 'bot', forceDelay = null, isFullWidth = false) {
            return new Promise(resolve => {
                const delay = forceDelay !== null ? forceDelay : calculateTypingDelay(content);

                if(type === 'bot') {
                    const typingId = 'typing-' + Date.now();
                    const avatarHtml = `<div class="avatar-holder"><img src="https://donaantonia.com.br/img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif" onerror="this.src='https://placehold.co/30x30/2563EB/ffffff?text=DA'"></div>`;
                    
                    chatContainer.insertAdjacentHTML('beforeend', `
                        <div id="${typingId}" class="msg-row msg-start">
                            ${avatarHtml}
                            <div class="typing-bubble">
                                <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                            </div>
                        </div>
                    `);
                    scrollToBottom();

                    setTimeout(() => {
                        const typingEl = document.getElementById(typingId);
                        if(typingEl) typingEl.remove();
                        appendFinalMessage();
                    }, delay);
                } else {
                    setTimeout(appendFinalMessage, 300);
                }

                function appendFinalMessage() {
                    const bubbleClass = isFullWidth ? 'msg-bubble full-width' : (type === 'bot' ? 'msg-bubble msg-in' : 'msg-bubble msg-out');
                    const rowClass = type === 'bot' ? 'msg-start' : 'msg-end';
                    const avatar = (type === 'bot' && !isFullWidth) 
                        ? `<div class="avatar-holder"><img src="https://donaantonia.com.br/img/logo-super-cesta-basica-dona-antonia-cuiaba-varzea-grande.avif" onerror="this.src='https://placehold.co/30x30/2563EB/ffffff?text=DA'"></div>` 
                        : (type === 'bot' ? '<div style="width:32px"></div>' : '');

                    const html = `
                        <div class="msg-row ${rowClass} animate-up">
                            ${avatar}
                            <div class="${bubbleClass}">
                                ${content}
                            </div>
                        </div>
                    `;
                    chatContainer.insertAdjacentHTML('beforeend', html);
                    scrollToBottom();
                    resolve();
                }
            });
        }

        // --- INTERACTION ZONE LOGIC ---

        function renderFooterInput(callback) {
            interactionZone.innerHTML = `
                <div class="input-area">
                    <input type="text" id="footerInput" class="chat-input" placeholder="Digite seu nome..." autocomplete="off">
                    <button class="send-btn" onclick="submitFooterInput()"><i class="ph-bold ph-paper-plane-right"></i></button>
                </div>
            `;
            
            window.submitFooterInput = function() {
                const input = document.getElementById('footerInput');
                const val = input.value.trim();
                if(!val) return;
                
                input.disabled = true;
                addMessage(val, 'user', 0);
                interactionZone.innerHTML = ''; // Limpa a zona, mas a navbar continua l√°
                callback(val);
            };

            const inputEl = document.getElementById('footerInput');
            inputEl.focus();
            inputEl.addEventListener("keypress", function(event) {
                if (event.key === "Enter") window.submitFooterInput();
            });
        }

        function renderFooterActions(actions) {
            const buttonsHtml = actions.map(act => 
                `<button class="action-btn-modern ${act.isPrimary ? 'primary' : ''}" onclick="handleFooterAction('${act.text}', ${act.callbackId})">${act.text}</button>`
            ).join('');

            interactionZone.innerHTML = `
                <div class="actions-area">
                    ${buttonsHtml}
                </div>
            `;
        }

        async function handleFooterAction(text, callbackId) {
            interactionZone.innerHTML = ''; // Limpa bot√µes
            await addMessage(text, 'user', 0);
            
            if (callbackId === 0.5) flowPriceReveal(); // Novo Step: Confirma√ß√£o do desconto
            if (callbackId === 1) flowStartShowcase();
            if (callbackId === 2) flowStartGridAnimation();
            if (callbackId === 3) flowPreRedirect();
            if (callbackId === 4) flowRedirectWhatsApp();
        }

        // --- FLOW SEQUENCES ---

        async function initFlow() {
            await new Promise(r => setTimeout(r, 600));

            // PASSO 1: Imagem Vertical do An√∫ncio (Primeira Coisa)
            await addMessage(`
                <img src="img/anuncio.png" class="msg-image-full" alt="Promo√ß√£o Cesta Pequena" 
                     loading="eager"
                     onerror="this.src='https://placehold.co/360x640/2563EB/ffffff?text=An√∫ncio+Vertical'">
            `, 'bot', 500, true);

            const hour = new Date().getHours();
            const greeting = hour < 12 ? "Bom dia" : (hour < 18 ? "Boa tarde" : "Boa noite");
            
            await addMessage(`üëã ${greeting}!`);
            await addMessage(`Sou o <b>Osvaldo</b>, assistente da Dona Ant√¥nia.`);
            await addMessage(`Qual seu nome?`);
            
            renderFooterInput(handleNameSubmit);
        }

        async function handleNameSubmit(name) {
            userFullName = name;
            userFirstName = name.split(' ')[0];
            userFirstName = userFirstName.charAt(0).toUpperCase() + userFirstName.slice(1).toLowerCase();

            setTimeout(flowContextAd, 800);
        }

        async function flowContextAd() {
            await addMessage(`Prazer, ${userFirstName}!`);
            await addMessage(`Bom... Voc√™ j√° sabe que eu tenho um desconto pra voc√™ n√©?`);
            
            // Bot√£o de Confirma√ß√£o (Step 2)
            renderFooterActions([
                { text: "Sei sim! üëç", callbackId: 0.5, isPrimary: true }
            ]);
        }

        async function flowPriceReveal() {
            // Nova Mensagem de Pre√ßo Personalizada
            await addMessage(`A cesta de R$ 220,00 √© a nossa campe√£ de vendas e pra voc√™ <b>${userFirstName}</b>, ela vai sair por <b>R$ 205,00</b>.`);
            
            // Pula direto para produtos (Sem foto da cesta)
            await new Promise(r => setTimeout(r, 800));
            await addMessage(`Quer ver os produtos dela?`);
            
            renderFooterActions([
                { text: "Sim, quero ver", callbackId: 1, isPrimary: true }
            ]);
        }

        async function flowStartShowcase() {
            trackMarketingEvent('InitiateCheckout', { content_name: 'Showcase Cesta Pequena' });
            await addMessage(`Combinado.`);
            await addMessage(`S√£o 27 itens no total.`);
            await addMessage(`Vou te mostrar...`);
            
            renderFooterActions([
                { text: "Pode mostrar", callbackId: 2, isPrimary: true }
            ]);
        }

        async function flowStartGridAnimation() {
            const gridId = 'live-grid-' + Date.now();
            await addMessage(`<div id="${gridId}" class="grid-container"></div>`, 'bot', 800, true);
            
            const gridEl = document.getElementById(gridId);
            let flatItems = [];
            CESTA_PEQUENA_ITEMS.forEach(item => {
                for(let i=0; i < item.qtd; i++) flatItems.push({ ...item });
            });

            let index = 0;
            const total = flatItems.length;

            function showNextItem() {
                if (index >= total) {
                    setTimeout(flowOfferDiscount, 2000); 
                    return;
                }

                const item = flatItems[index];
                const img = getProductImage(item.name);
                
                const card = `
                    <div class="mini-card">
                        <img src="${img}" alt="${item.name}" loading="lazy">
                        <span>${item.name}</span>
                    </div>
                `;

                gridEl.insertAdjacentHTML('beforeend', card);
                if (index % 3 === 0) scrollToBottom();

                index++;
                setTimeout(showNextItem, 300); // 300ms delay for faster display
            }

            showNextItem();
        }

        async function flowOfferDiscount() {
            scrollToBottom();
            await addMessage(`Viu s√≥, ${userFirstName}?`);
            
            // Texto Enxuto
            await addMessage(`S√≥ trabalhamos com marcas de primeira qualidade.`);
            
            await new Promise(r => setTimeout(r, 1000));
            
            await addMessage(`Vou garantir essa cesta de R$ 220,00 por <b>R$ 205,00</b> por 30 dias.`);
            await addMessage(`Voc√™ pede quando precisar.`);
            
            await addMessage(`Quer o desconto?`);
            
            renderFooterActions([
                { text: "Quero!", callbackId: 3, isPrimary: true }
            ]);
        }

        async function flowPreRedirect() {
            await addMessage(`√ìtimo!`);
            await addMessage(`Vou te mandar pro WhatsApp agora.`);
            await addMessage(`L√° vou colocar seu nome na nossa <b>Lista de Clientes com Desconto</b>.`);
            
            renderFooterActions([
                { text: "Abrir WhatsApp", callbackId: 4, isPrimary: true }
            ]);
        }

        async function flowRedirectWhatsApp() {
            trackMarketingEvent('Lead', { 
                value: 205.00, 
                currency: 'BRL', 
                content_name: 'Cesta Pequena Desconto VIP',
                status: 'redirected'
            });

            await addMessage(`Redirecionando...`);

            setTimeout(() => {
                const text = `Ol√°! Meu nome √© *${userFullName}*. Vim pelo Instagram e quero garantir meu cadastro de desconto (R$ 205,00) na Cesta Pequena por 30 dias.`;
                const phone = "5565998150975";
                const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
                const baseUrl = isMobile ? "https://api.whatsapp.com/send" : "https://web.whatsapp.com/send";
                
                window.location.href = `${baseUrl}?phone=${phone}&text=${encodeURIComponent(text)}`;
            }, 2500);
        }

        window.toggleModal = function(show) {
            const modal = document.getElementById('infoModal');
            if(show) {
                modal.classList.add('active');
                trackMarketingEvent('ViewContent', { content_name: 'Modal Quem Somos' });
            } else {
                modal.classList.remove('active');
            }
        }

        window.addEventListener('load', initFlow);

    </script>
</body>
</html>
